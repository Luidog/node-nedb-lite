<style>
.docApiDiv {
    font-family: Arial, Helvetica, sans-serif;
}
.docApiDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.docApiDiv a[href]:hover {
    text-decoration: underline;
}
.docApiSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.docApiCodeCommentSpan {
    background-color: #bbf;
    color: #000;
    display: block;
}
.docApiCodeKeywordSpan {
    color: #f00;
    font-weight: bold;
}
.docApiCodePre {
    background-color: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.docApiSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<div class="docApiDiv">
<h1>api documentation
    <a
        
        href="https://github.com/kaizhu256/node-nedb-lite"
        
    >(nedb-lite v2016.9.2)</a>
</h1>
<div class="docApiSectionDiv"><a href="#"><h1>table of contents</h1></a><ul>

    <li><a href="#module.nedb-lite">module nedb-lite</a><ol>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.AvlTree">
            function <span class="docApiSignatureSpan">nedb-lite.</span>AvlTree
            <span class="docApiSignatureSpan">(options)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.Cursor">
            function <span class="docApiSignatureSpan">nedb-lite.</span>Cursor
            <span class="docApiSignatureSpan">(db,query,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.Index">
            function <span class="docApiSignatureSpan">nedb-lite.</span>Index
            <span class="docApiSignatureSpan">(options)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.assert">
            function <span class="docApiSignatureSpan">nedb-lite.</span>assert
            <span class="docApiSignatureSpan">(passed,message)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbExport">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbExport
            <span class="docApiSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbImport">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbImport
            <span class="docApiSignatureSpan">(dbTableList,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbIndexCreate">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbIndexCreate
            <span class="docApiSignatureSpan">(dbTable,options,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbIndexRemove">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbIndexRemove
            <span class="docApiSignatureSpan">(dbTable,options,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbReset">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbReset
            <span class="docApiSignatureSpan">(onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbRowCheckObject">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbRowCheckObject
            <span class="docApiSignatureSpan">(obj)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbRowDeepCopy">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbRowDeepCopy
            <span class="docApiSignatureSpan">(obj,strictKeys)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbRowIsPrimitiveType">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbRowIsPrimitiveType
            <span class="docApiSignatureSpan">(obj)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbRowModify">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbRowModify
            <span class="docApiSignatureSpan">(obj,updateQuery)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbStorageClear">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbStorageClear
            <span class="docApiSignatureSpan">(onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbStorageDefer">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbStorageDefer
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbStorageGetItem">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbStorageGetItem
            <span class="docApiSignatureSpan">(key,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbStorageInit">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbStorageInit
            <span class="docApiSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbStorageKeys">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbStorageKeys
            <span class="docApiSignatureSpan">(onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbStorageLength">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbStorageLength
            <span class="docApiSignatureSpan">(onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbStorageRemoveItem">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbStorageRemoveItem
            <span class="docApiSignatureSpan">(key,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbStorageSetItem">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbStorageSetItem
            <span class="docApiSignatureSpan">(key,value,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.dbTableCreate">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbTableCreate
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.isRegExp">
            function <span class="docApiSignatureSpan">nedb-lite.</span>isRegExp
            <span class="docApiSignatureSpan">(obj)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.jsonCopy">
            function <span class="docApiSignatureSpan">nedb-lite.</span>jsonCopy
            <span class="docApiSignatureSpan">(arg)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.jsonStringifyOrdered">
            function <span class="docApiSignatureSpan">nedb-lite.</span>jsonStringifyOrdered
            <span class="docApiSignatureSpan">(element,replacer,space)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.listUnique">
            function <span class="docApiSignatureSpan">nedb-lite.</span>listUnique
            <span class="docApiSignatureSpan">(list)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.nop">
            function <span class="docApiSignatureSpan">nedb-lite.</span>nop
            <span class="docApiSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.objectSetDefault">
            function <span class="docApiSignatureSpan">nedb-lite.</span>objectSetDefault
            <span class="docApiSignatureSpan">(arg,defaults)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.onErrorDefault">
            function <span class="docApiSignatureSpan">nedb-lite.</span>onErrorDefault
            <span class="docApiSignatureSpan">(error)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.onNext">
            function <span class="docApiSignatureSpan">nedb-lite.</span>onNext
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.onParallel">
            function <span class="docApiSignatureSpan">nedb-lite.</span>onParallel
            <span class="docApiSignatureSpan">(onError,onDebug)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.queryCompare">
            function <span class="docApiSignatureSpan">nedb-lite.</span>queryCompare
            <span class="docApiSignatureSpan">(operator,aa,bb)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.queryGetDotValue">
            function <span class="docApiSignatureSpan">nedb-lite.</span>queryGetDotValue
            <span class="docApiSignatureSpan">(obj,field)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.queryMatch">
            function <span class="docApiSignatureSpan">nedb-lite.</span>queryMatch
            <span class="docApiSignatureSpan">(obj,query)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.sortCompare">
            function <span class="docApiSignatureSpan">nedb-lite.</span>sortCompare
            <span class="docApiSignatureSpan">(aa,bb)</span>
            </a>
            
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">object <span class="docApiSignatureSpan">nedb-lite.</span>dbStorageDeferList</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">object <span class="docApiSignatureSpan">nedb-lite.</span>dbTableDict</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">object <span class="docApiSignatureSpan">nedb-lite.</span>local</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">string <span class="docApiSignatureSpan">nedb-lite.</span>NODE_ENV</span>
        
        </li>
        
        <li>
            
            <span class="docApiSignatureSpan">string <span class="docApiSignatureSpan">nedb-lite.</span>dbStorage</span>
        
        </li>
        
    </ol></li>

    <li><a href="#module.nedb-lite.Index">module nedb-lite.Index</a><ol>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.Index.Index">
            function <span class="docApiSignatureSpan">nedb-lite.</span>Index
            <span class="docApiSignatureSpan">(options)</span>
            </a>
            
        </li>
        
    </ol></li>

    <li><a href="#module.nedb-lite.Index.prototype">module nedb-lite.Index.prototype</a><ol>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.Index.prototype.getBetweenBounds">
            function <span class="docApiSignatureSpan">nedb-lite.Index.prototype.</span>getBetweenBounds
            <span class="docApiSignatureSpan">(query)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.Index.prototype.getMatching">
            function <span class="docApiSignatureSpan">nedb-lite.Index.prototype.</span>getMatching
            <span class="docApiSignatureSpan">(value)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.Index.prototype.insert">
            function <span class="docApiSignatureSpan">nedb-lite.Index.prototype.</span>insert
            <span class="docApiSignatureSpan">(dbRow)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.Index.prototype.insertMultipleDocs">
            function <span class="docApiSignatureSpan">nedb-lite.Index.prototype.</span>insertMultipleDocs
            <span class="docApiSignatureSpan">(dbRowList)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.Index.prototype.remove">
            function <span class="docApiSignatureSpan">nedb-lite.Index.prototype.</span>remove
            <span class="docApiSignatureSpan">(dbRow)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.Index.prototype.reset">
            function <span class="docApiSignatureSpan">nedb-lite.Index.prototype.</span>reset
            <span class="docApiSignatureSpan">(dbRowList)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.Index.prototype.update">
            function <span class="docApiSignatureSpan">nedb-lite.Index.prototype.</span>update
            <span class="docApiSignatureSpan">(oldDoc,newDoc)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite.Index.prototype.updateMultipleDocs">
            function <span class="docApiSignatureSpan">nedb-lite.Index.prototype.</span>updateMultipleDocs
            <span class="docApiSignatureSpan">(pairs)</span>
            </a>
            
        </li>
        
    </ol></li>

    <li><a href="#module.nedb-lite._DbTable.prototype">module nedb-lite._DbTable.prototype</a><ol>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite._DbTable.prototype.addToIndexes">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>addToIndexes
            <span class="docApiSignatureSpan">(dbRow)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite._DbTable.prototype.crudCountMany">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>crudCountMany
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite._DbTable.prototype.crudFindMany">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>crudFindMany
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite._DbTable.prototype.crudFindOne">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>crudFindOne
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite._DbTable.prototype.crudGetAllSync">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>crudGetAllSync
            <span class="docApiSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite._DbTable.prototype.crudInsert">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>crudInsert
            <span class="docApiSignatureSpan">(newDoc,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite._DbTable.prototype.crudRemoveMany">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>crudRemoveMany
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite._DbTable.prototype.crudRemoveOne">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>crudRemoveOne
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite._DbTable.prototype.crudUpdate">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>crudUpdate
            <span class="docApiSignatureSpan">(query,updateQuery,options,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite._DbTable.prototype.drop">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>drop
            <span class="docApiSignatureSpan">(onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite._DbTable.prototype.export">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>export
            <span class="docApiSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite._DbTable.prototype.getCandidates">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>getCandidates
            <span class="docApiSignatureSpan">(query,onError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite._DbTable.prototype.prepareDocumentForInsertion">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>prepareDocumentForInsertion
            <span class="docApiSignatureSpan">(newDoc)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite._DbTable.prototype.removeFromIndexes">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>removeFromIndexes
            <span class="docApiSignatureSpan">(dbRow)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite._DbTable.prototype.save">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>save
            <span class="docApiSignatureSpan">()</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="docApiElementLiA" href="#element.nedb-lite._DbTable.prototype.updateIndexes">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>updateIndexes
            <span class="docApiSignatureSpan">(oldDoc,newDoc)</span>
            </a>
            
        </li>
        
    </ol></li>

</ul></div>
    
    <div class="docApiSectionDiv">
    <h1><a href="#module.nedb-lite" id="module.nedb-lite">module nedb-lite</a></h1>
        
        
        <h2>
            <a href="#element.nedb-lite.AvlTree" id="element.nedb-lite.AvlTree">
            function <span class="docApiSignatureSpan">nedb-lite.</span>AvlTree
            <span class="docApiSignatureSpan">(options)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">AvlTree = function (options){__cov_6b9bc1bc5a47f.f[&#x27;105&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;628&#x27;]++;this.left=null;__cov_6b9bc1bc5a47f.s[&#x27;629&#x27;]++;t\
his.right=null;__cov_6b9bc1bc5a47f.s[&#x27;630&#x27;]++;this.parent=options.parent!==undefined?(__cov_6b9bc1bc5a47f.b[&#x27;193&#x27;][0]++,options.\
parent):(__cov_6b9bc1bc5a47f.b[&#x27;193&#x27;][1]++,null);__cov_6b9bc1bc5a47f.s[&#x27;631&#x27;]++;if(options.hasOwnProperty(&#x27;key&#x27;)){__cov_6b9bc1bc\
5a47f.b[&#x27;194&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;632&#x27;]++;this.key=options.key;}else{__cov_6b9bc1bc5a47f.b[&#x27;194&#x27;][1]++;}__cov_6b9bc1bc5\
a47f.s[&#x27;633&#x27;]++;this.data=options.hasOwnProperty(&#x27;value&#x27;)?(__cov_6b9bc1bc5a47f.b[&#x27;195&#x27;][0]++,[options.value]):(__cov_6b9bc1bc5a4\
7f.b[&#x27;195&#x27;][1]++,[]);__cov_6b9bc1bc5a47f.s[&#x27;634&#x27;]++;this.unique=(__cov_6b9bc1bc5a47f.b[&#x27;196&#x27;][0]++,options.unique)||(__cov_6b9bc\
1bc5a47f.b[&#x27;196&#x27;][1]++,false);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
};
local.nedb.Index.prototype.reset = function (dbRowList) {
/**
 * Reset an index
 * @param {dbRow or Array of dbRow&#x27;s} dbRowList Optional, data to initialize the index with
 *                                                 If an error is thrown during insertion, the index is not modified
 */
    this.tree = new local.nedb.<span class="docApiCodeKeywordSpan">AvlTree</span>({ unique: this.unique });
    if (dbRowList) {
        this.insert(dbRowList);
    }
};
local.nedb.Index.prototype.insert = function (dbRow) {
/**
 * Insert a new dbRow in the index
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.Cursor" id="element.nedb-lite.Cursor">
            function <span class="docApiSignatureSpan">nedb-lite.</span>Cursor
            <span class="docApiSignatureSpan">(db,query,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">Cursor = function (db,query,onError){__cov_6b9bc1bc5a47f.f[&#x27;157&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1101&#x27;]++;this.db=db;__cov_6b9bc1bc5a47f.s[&#x27;110\
2&#x27;]++;this.query=(__cov_6b9bc1bc5a47f.b[&#x27;346&#x27;][0]++,query)||(__cov_6b9bc1bc5a47f.b[&#x27;346&#x27;][1]++,{});__cov_6b9bc1bc5a47f.s[&#x27;1103&#x27;]\
++;if(onError){__cov_6b9bc1bc5a47f.b[&#x27;347&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1104&#x27;]++;this.onError=onError;}else{__cov_6b9bc1bc5a47f.\
b[&#x27;347&#x27;][1]++;}}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
                case 1:
// If upsert option is set, check whether we need to insert the dbRow
if (!upsert) {
    return options.onNext();
}

// Need to use an internal function not tied to the executor to avoid deadlock
cursor = new local.nedb.<span class="docApiCodeKeywordSpan">Cursor</span>(self, query);
cursor.limit(1)._exec(function (error, docs) {
    if (error) {
        return onError(error);
    }
    if (docs.length === 1) {
        return options.onNext();
    }
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.Index" id="element.nedb-lite.Index">
            function <span class="docApiSignatureSpan">nedb-lite.</span>Index
            <span class="docApiSignatureSpan">(options)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">Index = function (options){__cov_6b9bc1bc5a47f.f[&#x27;143&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1002&#x27;]++;this.fieldName=options.fieldName;__cov_6b9bc1b\
c5a47f.s[&#x27;1003&#x27;]++;this.isInteger=options.isInteger;__cov_6b9bc1bc5a47f.s[&#x27;1004&#x27;]++;this.unique=(__cov_6b9bc1bc5a47f.b[&#x27;325&#x27;][0]\
++,options.unique)||(__cov_6b9bc1bc5a47f.b[&#x27;325&#x27;][1]++,false);__cov_6b9bc1bc5a47f.s[&#x27;1005&#x27;]++;this.sparse=(__cov_6b9bc1bc5a47f.b\
[&#x27;326&#x27;][0]++,options.sparse)||(__cov_6b9bc1bc5a47f.b[&#x27;326&#x27;][1]++,false);__cov_6b9bc1bc5a47f.s[&#x27;1006&#x27;]++;this.reset();}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
*     becomes a TTL index (only works on Date fields, not arrays of Date)
* @param {Function} onError - callback, signature: error
*/
   var self;
   // require options.fieldName
   local.nedb.assert(options.fieldName, options.fieldName);
   self = local.nedb.dbTableDict[dbTable.name];
   self.indexes[options.fieldName] = new local.nedb.<span class="docApiCodeKeywordSpan">Index</span>(options);
   // With this implementation index creation is not necessary to ensure TTL
   // but we stick with MongoDB&#x27;s API here
   if (options.expireAfterSeconds !== undefined) {
       self.ttlIndexes[options.fieldName] = options.expireAfterSeconds;
   }
   self.indexes[options.fieldName].insert(self.crudGetAllSync());
   // We may want to force all options to be persisted including defaults,
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.assert" id="element.nedb-lite.assert">
            function <span class="docApiSignatureSpan">nedb-lite.</span>assert
            <span class="docApiSignatureSpan">(passed,message)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">assert = function (passed,message){__cov_6b9bc1bc5a47f.f[&#x27;5&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;14&#x27;]++;var error;__cov_6b9bc1bc5a47f.s[&#x27;15&#x27;]++;if(\
passed){__cov_6b9bc1bc5a47f.b[&#x27;4&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;16&#x27;]++;return;}else{__cov_6b9bc1bc5a47f.b[&#x27;4&#x27;][1]++;}__cov_6b9bc1\
bc5a47f.s[&#x27;17&#x27;]++;error=(__cov_6b9bc1bc5a47f.b[&#x27;6&#x27;][0]++,message)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;6&#x27;][1]++,message.message)?(__cov_6b9b\
c1bc5a47f.b[&#x27;5&#x27;][0]++,message):(__cov_6b9bc1bc5a47f.b[&#x27;5&#x27;][1]++,new Error(typeof message===&#x27;string&#x27;?(__cov_6b9bc1bc5a47f.b[&#x27;7&#x27;][\
0]++,message):(__cov_6b9bc1bc5a47f.b[&#x27;7&#x27;][1]++,JSON.stringify(message))));__cov_6b9bc1bc5a47f.s[&#x27;18&#x27;]++;throw error;}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    onParallel.counter += 1;
    local.nedb.dbIndexCreate(options, {
        fieldName: &#x27;id&#x27;,
        unique: true
    }, onParallel);
    options.data = local.nedb.dbExport();
    // validate data
    local.utility2.<span class="docApiCodeKeywordSpan">assert</span>(options.data.indexOf(&#x27;&quot;testCase_dbExport_default&\
quot;\n&#x27; +
        &#x27;{&quot;$$indexCreated&quot;:{&quot;fieldName&quot;:&quot;createdAt&quot;,&quot;unique&quot;:false,&quot;sparse&quo\
t;:false}}\n&#x27; +
        &#x27;{&quot;$$indexCreated&quot;:{&quot;fieldName&quot;:&quot;updatedAt&quot;,&quot;unique&quot;:false,&quot;sparse&quo\
t;:false}}\n&#x27; +
        &#x27;{&quot;$$indexCreated&quot;:{&quot;fieldName&quot;:&quot;id&quot;,&quot;unique&quot;:true,&quot;sparse&quot;:false\
}}&#x27;)
        &gt;= 0, options.data);
    onParallel();
};
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbExport" id="element.nedb-lite.dbExport">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbExport
            <span class="docApiSignatureSpan">()</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">dbExport = function (){__cov_6b9bc1bc5a47f.f[&#x27;6&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;20&#x27;]++;var data;__cov_6b9bc1bc5a47f.s[&#x27;21&#x27;]++;data=&#x27;&#x27;;__cov_6b9b\
c1bc5a47f.s[&#x27;22&#x27;]++;Object.keys(local.nedb.dbTableDict).map(function(key){__cov_6b9bc1bc5a47f.f[&#x27;7&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;23\
&#x27;]++;data+=local.nedb.dbTableDict[key].export()+&#x27;\n\n&#x27;;});__cov_6b9bc1bc5a47f.s[&#x27;24&#x27;]++;return data.slice(0,-2);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    };
});
/* istanbul ignore next */
local.testRun = function (event) {
    var reader, tmp;
    switch (event &amp;&amp; event.currentTarget.id) {
    case &#x27;nedbExportButton1&#x27;:
        tmp = window.URL.createObjectURL(new window.Blob([local.nedb.<span class="docApiCodeKeywordSpan">dbExport</span>()]));
        document.querySelector(&#x27;#nedbExportA1&#x27;).href = tmp;
        document.querySelector(&#x27;#nedbExportA1&#x27;).click();
        setTimeout(function () {
            window.URL.revokeObjectURL(tmp);
        }, 30000);
        break;
    case &#x27;nedbImportButton1&#x27;:
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbImport" id="element.nedb-lite.dbImport">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbImport
            <span class="docApiSignatureSpan">(dbTableList,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">dbImport = function (dbTableList,onError){__cov_6b9bc1bc5a47f.f[&#x27;8&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;26&#x27;]++;dbTableList.trim().split(&#x27;\n\n&#x27;).forEa\
ch(function(dbTable){__cov_6b9bc1bc5a47f.f[&#x27;9&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;27&#x27;]++;local.nedb.dbTableCreate({persistenceData:dbTabl\
e,name:JSON.parse(/.*/.exec(dbTable)[0])},onError);});}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    console.log(&#x27;importing nedb-database ...&#x27;);
    reader = new window.FileReader();
    tmp = document.querySelector(&#x27;#nedbImportInput1&#x27;).files[0];
    if (!tmp) {
        return;
    }
    reader.addEventListener(&#x27;load&#x27;, function () {
        local.nedb.<span class="docApiCodeKeywordSpan">dbImport</span>(reader.result, function () {
            console.log(&#x27;... imported nedb-database&#x27;);
        });
    });
    reader.readAsText(tmp);
    break;
case &#x27;nedbResetButton1&#x27;:
    document.querySelector(&#x27;#outputTextarea1&#x27;).value = &#x27;&#x27;;
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbIndexCreate" id="element.nedb-lite.dbIndexCreate">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbIndexCreate
            <span class="docApiSignatureSpan">(dbTable,options,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">dbIndexCreate = function (dbTable,options,onError){__cov_6b9bc1bc5a47f.f[&#x27;10&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;29&#x27;]++;var self;__cov_6b9bc1bc5a47f.s[&#x27;3\
0&#x27;]++;local.nedb.assert(options.fieldName,options.fieldName);__cov_6b9bc1bc5a47f.s[&#x27;31&#x27;]++;self=local.nedb.dbTableDict[dbTable.n\
ame];__cov_6b9bc1bc5a47f.s[&#x27;32&#x27;]++;self.indexes[options.fieldName]=new local.nedb.Index(options);__cov_6b9bc1bc5a47f.s[&#x27;33&#x27;]++;i\
f(options.expireAfterSeconds!==undefined){__cov_6b9bc1bc5a47f.b[&#x27;8&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;34&#x27;]++;self.ttlIndexes[options.\
fieldName]=options.expireAfterSeconds;}else{__cov_6b9bc1bc5a47f.b[&#x27;8&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;35&#x27;]++;self.indexes[options.\
fieldName].insert(self.crudGetAllSync());__cov_6b9bc1bc5a47f.s[&#x27;36&#x27;]++;self.save();__cov_6b9bc1bc5a47f.s[&#x27;37&#x27;]++;onError();}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
var onParallel;
onParallel = local.utility2.onParallel(onError);
onParallel.counter += 1;
options = {};
options.name = &#x27;testCase_dbExport_default&#x27;;
options.dbTable = local.nedb.dbTableCreate(options);
onParallel.counter += 1;
local.nedb.<span class="docApiCodeKeywordSpan">dbIndexCreate</span>(options, {
    fieldName: &#x27;id&#x27;,
    unique: true
}, onParallel);
options.data = local.nedb.dbExport();
// validate data
local.utility2.assert(options.data.indexOf(&#x27;&quot;testCase_dbExport_default&quot;\n&#x27; +
    &#x27;{&quot;$$indexCreated&quot;:{&quot;fieldName&quot;:&quot;createdAt&quot;,&quot;unique&quot;:false,&quot;sparse&quot;:f\
alse}}\n&#x27; +
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbIndexRemove" id="element.nedb-lite.dbIndexRemove">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbIndexRemove
            <span class="docApiSignatureSpan">(dbTable,options,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">dbIndexRemove = function (dbTable,options,onError){__cov_6b9bc1bc5a47f.f[&#x27;11&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;39&#x27;]++;var self;__cov_6b9bc1bc5a47f.s[&#x27;4\
0&#x27;]++;self=local.nedb.dbTableDict[dbTable.name];__cov_6b9bc1bc5a47f.s[&#x27;41&#x27;]++;delete self.indexes[options.fieldName];__cov_6b9bc\
1bc5a47f.s[&#x27;42&#x27;]++;self.save();__cov_6b9bc1bc5a47f.s[&#x27;43&#x27;]++;onError();}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbReset" id="element.nedb-lite.dbReset">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbReset
            <span class="docApiSignatureSpan">(onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">dbReset = function (onError){__cov_6b9bc1bc5a47f.f[&#x27;12&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;45&#x27;]++;var onParallel,options;__cov_6b9bc1bc5a47f.s[&#x27;46&#x27;\
]++;options={};__cov_6b9bc1bc5a47f.s[&#x27;47&#x27;]++;local.nedb.onNext(options,function(error){__cov_6b9bc1bc5a47f.f[&#x27;13&#x27;]++;__cov_6b9bc\
1bc5a47f.s[&#x27;48&#x27;]++;switch(options.modeNext){case 1:__cov_6b9bc1bc5a47f.b[&#x27;9&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;49&#x27;]++;onParallel=loca\
l.nedb.onParallel(onError);__cov_6b9bc1bc5a47f.s[&#x27;50&#x27;]++;onParallel.counter=0;__cov_6b9bc1bc5a47f.s[&#x27;51&#x27;]++;onParallel.counter+=\
1;__cov_6b9bc1bc5a47f.s[&#x27;52&#x27;]++;Object.keys(local.nedb.dbTableDict).forEach(function(key){__cov_6b9bc1bc5a47f.f[&#x27;14&#x27;]++;__cov_6b\
9bc1bc5a47f.s[&#x27;53&#x27;]++;onParallel.counter+=1;__cov_6b9bc1bc5a47f.s[&#x27;54&#x27;]++;local.nedb.dbTableDict[key].drop(onParallel);});__cov_\
6b9bc1bc5a47f.s[&#x27;55&#x27;]++;onParallel.counter+=1;__cov_6b9bc1bc5a47f.s[&#x27;56&#x27;]++;local.nedb.dbStorageClear(onParallel);__cov_6b9bc1bc\
5a47f.s[&#x27;57&#x27;]++;onParallel();__cov_6b9bc1bc5a47f.s[&#x27;58&#x27;]++;break;default:__cov_6b9bc1bc5a47f.b[&#x27;9&#x27;][1]++;__cov_6b9bc1bc5a47f.s[&#x27;\
59&#x27;]++;onError(error);}});__cov_6b9bc1bc5a47f.s[&#x27;60&#x27;]++;options.modeNext=0;__cov_6b9bc1bc5a47f.s[&#x27;61&#x27;]++;options.onNext();}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
        });
    });
    reader.readAsText(tmp);
    break;
case &#x27;nedbResetButton1&#x27;:
    document.querySelector(&#x27;#outputTextarea1&#x27;).value = &#x27;&#x27;;
    console.log(&#x27;resetting nedb-database ...&#x27;);
    local.nedb.<span class="docApiCodeKeywordSpan">dbReset</span>(function () {
        console.log(&#x27;... resetted nedb-database&#x27;);
    });
    break;
case &#x27;testRunButton1&#x27;:
    if (document.querySelector(&#x27;.testReportDiv&#x27;).style.display === &#x27;none&#x27;) {
        document.querySelector(&#x27;.testReportDiv&#x27;).style.display = &#x27;block&#x27;;
        document.querySelector(&#x27;#testRunButton1&#x27;).innerText = &#x27;hide internal test&#x27;;
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbRowCheckObject" id="element.nedb-lite.dbRowCheckObject">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbRowCheckObject
            <span class="docApiSignatureSpan">(obj)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">function checkObject(obj){__cov_6b9bc1bc5a47f.f[&#x27;65&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;369&#x27;]++;if(Array.isArray(obj)){__cov_6b9bc1bc5a47\
f.b[&#x27;94&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;370&#x27;]++;obj.forEach(function(o){__cov_6b9bc1bc5a47f.f[&#x27;66&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;371&#x27;]\
++;checkObject(o);});}else{__cov_6b9bc1bc5a47f.b[&#x27;94&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;372&#x27;]++;if((__cov_6b9bc1bc5a47f.b[&#x27;96&#x27;][0]++\
,typeof obj===&#x27;object&#x27;)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;96&#x27;][1]++,obj!==null)){__cov_6b9bc1bc5a47f.b[&#x27;95&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;\
373&#x27;]++;Object.keys(obj).forEach(function(k){__cov_6b9bc1bc5a47f.f[&#x27;67&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;374&#x27;]++;checkKey(k,obj[k]);__c\
ov_6b9bc1bc5a47f.s[&#x27;375&#x27;]++;checkObject(obj[k]);});}else{__cov_6b9bc1bc5a47f.b[&#x27;95&#x27;][1]++;}}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
        now = new Date().toISOString();
        if (preparedDoc.createdAt === undefined) {
            preparedDoc.createdAt = now;
        }
        if (preparedDoc.updatedAt === undefined) {
            preparedDoc.updatedAt = now;
        }
        local.nedb.<span class="docApiCodeKeywordSpan">dbRowCheckObject</span>(preparedDoc);
    }

    return preparedDoc;
};

local.nedb._DbTable.prototype._insertInCache = function (preparedDoc) {
/**
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbRowDeepCopy" id="element.nedb-lite.dbRowDeepCopy">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbRowDeepCopy
            <span class="docApiSignatureSpan">(obj,strictKeys)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">dbRowDeepCopy = function (obj,strictKeys){__cov_6b9bc1bc5a47f.f[&#x27;68&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;377&#x27;]++;var res;__cov_6b9bc1bc5a47f.s[&#x27;378&#x27;]++;if\
((__cov_6b9bc1bc5a47f.b[&#x27;98&#x27;][0]++,typeof obj===&#x27;boolean&#x27;)||(__cov_6b9bc1bc5a47f.b[&#x27;98&#x27;][1]++,typeof obj===&#x27;number&#x27;)||(__cov_6b9\
bc1bc5a47f.b[&#x27;98&#x27;][2]++,typeof obj===&#x27;string&#x27;)||(__cov_6b9bc1bc5a47f.b[&#x27;98&#x27;][3]++,obj===null)){__cov_6b9bc1bc5a47f.b[&#x27;97&#x27;][0]++;\
__cov_6b9bc1bc5a47f.s[&#x27;379&#x27;]++;return obj;}else{__cov_6b9bc1bc5a47f.b[&#x27;97&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;380&#x27;]++;if(Array.isArra\
y(obj)){__cov_6b9bc1bc5a47f.b[&#x27;99&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;381&#x27;]++;res=[];__cov_6b9bc1bc5a47f.s[&#x27;382&#x27;]++;obj.forEach(functi\
on(o){__cov_6b9bc1bc5a47f.f[&#x27;69&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;383&#x27;]++;res.push(local.nedb.dbRowDeepCopy(o,strictKeys));});__cov_6b9\
bc1bc5a47f.s[&#x27;384&#x27;]++;return res;}else{__cov_6b9bc1bc5a47f.b[&#x27;99&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;385&#x27;]++;if(typeof obj===&#x27;object&#x27;\
){__cov_6b9bc1bc5a47f.b[&#x27;100&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;386&#x27;]++;res={};__cov_6b9bc1bc5a47f.s[&#x27;387&#x27;]++;Object.keys(obj).forEac\
h(function(k){__cov_6b9bc1bc5a47f.f[&#x27;70&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;388&#x27;]++;if((__cov_6b9bc1bc5a47f.b[&#x27;102&#x27;][0]++,!strictKeys)||(\
__cov_6b9bc1bc5a47f.b[&#x27;102&#x27;][1]++,k[0]!==&#x27;$&#x27;)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;102&#x27;][2]++,k.indexOf(&#x27;.&#x27;)===-1)){__cov_6b9bc1bc5a47f.b[&#x27;1\
01&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;389&#x27;]++;res[k]=local.nedb.dbRowDeepCopy(obj[k],strictKeys);}else{__cov_6b9bc1bc5a47f.b[&#x27;101&#x27;][1\
]++;}});__cov_6b9bc1bc5a47f.s[&#x27;390&#x27;]++;return res;}else{__cov_6b9bc1bc5a47f.b[&#x27;100&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;391&#x27;]++;return\
 undefined;}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
        obj === null) {
    return obj;
}

if (Array.isArray(obj)) {
    res = [];
    obj.forEach(function (o) {
        res.push(local.nedb.<span class="docApiCodeKeywordSpan">dbRowDeepCopy</span>(o, strictKeys));
    });
    return res;
}

if (typeof obj === &#x27;object&#x27;) {
    res = {};
    Object.keys(obj).forEach(function (k) {
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbRowIsPrimitiveType" id="element.nedb-lite.dbRowIsPrimitiveType">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbRowIsPrimitiveType
            <span class="docApiSignatureSpan">(obj)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">function isPrimitiveType(obj){__cov_6b9bc1bc5a47f.f[&#x27;71&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;393&#x27;]++;return(__cov_6b9bc1bc5a47f.b[&#x27;103&#x27;][0\
]++,typeof obj===&#x27;boolean&#x27;)||(__cov_6b9bc1bc5a47f.b[&#x27;103&#x27;][1]++,typeof obj===&#x27;number&#x27;)||(__cov_6b9bc1bc5a47f.b[&#x27;103&#x27;][2]++,typeo\
f obj===&#x27;string&#x27;)||(__cov_6b9bc1bc5a47f.b[&#x27;103&#x27;][3]++,obj===null)||(__cov_6b9bc1bc5a47f.b[&#x27;103&#x27;][4]++,Array.isArray(obj));}</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbRowModify" id="element.nedb-lite.dbRowModify">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbRowModify
            <span class="docApiSignatureSpan">(obj,updateQuery)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">function modify(obj,updateQuery){__cov_6b9bc1bc5a47f.f[&#x27;87&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;492&#x27;]++;var keys,dollarFirstChars,firstCha\
rs,modifiers,newDoc;__cov_6b9bc1bc5a47f.s[&#x27;493&#x27;]++;keys=Object.keys(updateQuery);__cov_6b9bc1bc5a47f.s[&#x27;494&#x27;]++;firstChars=keys.\
map(function(item){__cov_6b9bc1bc5a47f.f[&#x27;88&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;495&#x27;]++;return item[0];});__cov_6b9bc1bc5a47f.s[&#x27;496&#x27;]++\
;dollarFirstChars=firstChars.filter(function(cc){__cov_6b9bc1bc5a47f.f[&#x27;89&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;497&#x27;]++;return cc===&#x27;$&#x27;;})\
;__cov_6b9bc1bc5a47f.s[&#x27;498&#x27;]++;if((__cov_6b9bc1bc5a47f.b[&#x27;144&#x27;][0]++,keys.indexOf(&#x27;_id&#x27;)!==-1)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;144&#x27;][1\
]++,updateQuery._id!==obj._id)){__cov_6b9bc1bc5a47f.b[&#x27;143&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;499&#x27;]++;throw new Error(&#x27;You cannot cha\
nge a dbRow\&#x27;s _id&#x27;);}else{__cov_6b9bc1bc5a47f.b[&#x27;143&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;500&#x27;]++;if((__cov_6b9bc1bc5a47f.b[&#x27;146&#x27;][0]\
++,dollarFirstChars.length!==0)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;146&#x27;][1]++,dollarFirstChars.length!==firstChars.length)){__cov_6b9bc1bc\
5a47f.b[&#x27;145&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;501&#x27;]++;throw new Error(&#x27;You cannot mix modifiers and normal fields&#x27;);}else{__cov_6b9\
bc1bc5a47f.b[&#x27;145&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;502&#x27;]++;if(dollarFirstChars.length===0){__cov_6b9bc1bc5a47f.b[&#x27;147&#x27;][0]++;__cov\
_6b9bc1bc5a47f.s[&#x27;503&#x27;]++;newDoc=local.nedb.jsonCopy(updateQuery);__cov_6b9bc1bc5a47f.s[&#x27;504&#x27;]++;newDoc._id=obj._id;}else{__cov_\
6b9bc1bc5a47f.b[&#x27;147&#x27;][1]++;__cov_6b9bc1bc5a47f.s[&#x27;505&#x27;]++;modifiers=local.nedb.listUnique(keys);__cov_6b9bc1bc5a47f.s[&#x27;506&#x27;]++;\
newDoc=local.nedb.jsonCopy(obj);__cov_6b9bc1bc5a47f.s[&#x27;507&#x27;]++;modifiers.forEach(function(m){__cov_6b9bc1bc5a47f.f[&#x27;90&#x27;]++;__cov\
_6b9bc1bc5a47f.s[&#x27;508&#x27;]++;if(!modifierFunctions[m]){__cov_6b9bc1bc5a47f.b[&#x27;148&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;509&#x27;]++;throw new E\
rror(&#x27;Unknown modifier &#x27;+m);}else{__cov_6b9bc1bc5a47f.b[&#x27;148&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;510&#x27;]++;if(typeof updateQuery[m]!==&#x27;\
object&#x27;){__cov_6b9bc1bc5a47f.b[&#x27;149&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;511&#x27;]++;throw new Error(&#x27;Modifier &#x27;+m+&#x27;\&#x27;s argument must be an\
 object&#x27;);}else{__cov_6b9bc1bc5a47f.b[&#x27;149&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;512&#x27;]++;Object.keys(updateQuery[m]).forEach(function(k\
){__cov_6b9bc1bc5a47f.f[&#x27;91&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;513&#x27;]++;modifierFunctions[m](newDoc,k,updateQuery[m][k]);});});}__cov_6b9\
bc1bc5a47f.s[&#x27;514&#x27;]++;checkObject(newDoc);__cov_6b9bc1bc5a47f.s[&#x27;515&#x27;]++;if(obj._id!==newDoc._id){__cov_6b9bc1bc5a47f.b[&#x27;150&#x27;][0\
]++;__cov_6b9bc1bc5a47f.s[&#x27;516&#x27;]++;throw new Error(&#x27;You can\&#x27;t change a dbRow\&#x27;s _id&#x27;);}else{__cov_6b9bc1bc5a47f.b[&#x27;150&#x27;][1]++;}\
__cov_6b9bc1bc5a47f.s[&#x27;517&#x27;]++;return newDoc;}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    };
    keys.forEach(function (k) {
        toPush.$set[k] = local.nedb.queryGetDotValue(candidate, k);
        if (toPush.$set[k] === undefined) {
            delete toPush.$set[k];
        }
    });
    toPush = local.nedb.<span class="docApiCodeKeywordSpan">dbRowModify</span>({}, toPush);
} else { // omit-type projection
    toPush = {
        $unset: {}
    };
    keys.forEach(function (k) {
        toPush.$unset[k] = true;
    });
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbStorageClear" id="element.nedb-lite.dbStorageClear">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbStorageClear
            <span class="docApiSignatureSpan">(onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">dbStorageClear = function (onError){__cov_6b9bc1bc5a47f.f[&#x27;15&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;63&#x27;]++;local.nedb.dbStorageDefer({action:&#x27;clear&#x27;},onErro\
r);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
        onParallel.counter += 1;
        Object.keys(local.nedb.dbTableDict).forEach(function (key) {
            // drop dbTable
            onParallel.counter += 1;
            local.nedb.dbTableDict[key].drop(onParallel);
        });
        onParallel.counter += 1;
        local.nedb.<span class="docApiCodeKeywordSpan">dbStorageClear</span>(onParallel);
        onParallel();
        break;
    default:
        onError(error);
    }
});
options.modeNext = 0;
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbStorageDefer" id="element.nedb-lite.dbStorageDefer">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbStorageDefer
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">dbStorageDefer = function (options,onError){__cov_6b9bc1bc5a47f.f[&#x27;16&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;65&#x27;]++;var data,done,objectStore,onError2,reques\
t,tmp;__cov_6b9bc1bc5a47f.s[&#x27;66&#x27;]++;if(!local.nedb.dbStorage){__cov_6b9bc1bc5a47f.b[&#x27;10&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;67&#x27;]++;loc\
al.nedb.dbStorageDeferList.push(function(){__cov_6b9bc1bc5a47f.f[&#x27;17&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;68&#x27;]++;local.nedb.dbStorageDefer\
(options,onError);});__cov_6b9bc1bc5a47f.s[&#x27;69&#x27;]++;return;}else{__cov_6b9bc1bc5a47f.b[&#x27;10&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;70&#x27;]++;\
if(options.action===&#x27;onError&#x27;){__cov_6b9bc1bc5a47f.b[&#x27;11&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;71&#x27;]++;onError();__cov_6b9bc1bc5a47f.s[&#x27;7\
2&#x27;]++;return;}else{__cov_6b9bc1bc5a47f.b[&#x27;11&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;73&#x27;]++;switch(local.modeJs){case&#x27;browser&#x27;:__cov_6b9b\
c1bc5a47f.b[&#x27;12&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;74&#x27;]++;onError2=function(){__cov_6b9bc1bc5a47f.f[&#x27;18&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;75\
&#x27;]++;if(done){__cov_6b9bc1bc5a47f.b[&#x27;13&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;76&#x27;]++;return;}else{__cov_6b9bc1bc5a47f.b[&#x27;13&#x27;][1]++;}__co\
v_6b9bc1bc5a47f.s[&#x27;77&#x27;]++;done=true;__cov_6b9bc1bc5a47f.s[&#x27;78&#x27;]++;onError((__cov_6b9bc1bc5a47f.b[&#x27;14&#x27;][0]++,request)&amp;&amp;((__cov_6b\
9bc1bc5a47f.b[&#x27;14&#x27;][1]++,request.error)||(__cov_6b9bc1bc5a47f.b[&#x27;14&#x27;][2]++,request.transaction.error)),(__cov_6b9bc1bc5a47f.b[&#x27;1\
5&#x27;][0]++,data)||(__cov_6b9bc1bc5a47f.b[&#x27;15&#x27;][1]++,request.result));};__cov_6b9bc1bc5a47f.s[&#x27;79&#x27;]++;switch(options.action){case&#x27;c\
lear&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;16&#x27;][0]++;case&#x27;removeItem&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;16&#x27;][1]++;case&#x27;setItem&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;16\
&#x27;][2]++;__cov_6b9bc1bc5a47f.s[&#x27;80&#x27;]++;objectStore=local.nedb.dbStorage.transaction(&#x27;nedb&#x27;,&#x27;readwrite&#x27;).objectStore(&#x27;nedb&#x27;);__cov\
_6b9bc1bc5a47f.s[&#x27;81&#x27;]++;break;default:__cov_6b9bc1bc5a47f.b[&#x27;16&#x27;][3]++;__cov_6b9bc1bc5a47f.s[&#x27;82&#x27;]++;objectStore=local.nedb.dbS\
torage.transaction(&#x27;nedb&#x27;,&#x27;readonly&#x27;).objectStore(&#x27;nedb&#x27;);}__cov_6b9bc1bc5a47f.s[&#x27;83&#x27;]++;switch(options.action){case&#x27;clear&#x27;:__co\
v_6b9bc1bc5a47f.b[&#x27;17&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;84&#x27;]++;request=objectStore.clear();__cov_6b9bc1bc5a47f.s[&#x27;85&#x27;]++;break;case&#x27;\
getItem&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;17&#x27;][1]++;__cov_6b9bc1bc5a47f.s[&#x27;86&#x27;]++;request=objectStore.get(options.key);__cov_6b9bc1bc5a47f\
.s[&#x27;87&#x27;]++;break;case&#x27;keys&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;17&#x27;][2]++;__cov_6b9bc1bc5a47f.s[&#x27;88&#x27;]++;data=[];__cov_6b9bc1bc5a47f.s[&#x27;89&#x27;]++\
;request=objectStore.openCursor();__cov_6b9bc1bc5a47f.s[&#x27;90&#x27;]++;request.onsuccess=function(){__cov_6b9bc1bc5a47f.f[&#x27;19&#x27;]++;__cov\
_6b9bc1bc5a47f.s[&#x27;91&#x27;]++;if(!request.result){__cov_6b9bc1bc5a47f.b[&#x27;18&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;92&#x27;]++;onError2();__cov_6b9\
bc1bc5a47f.s[&#x27;93&#x27;]++;return;}else{__cov_6b9bc1bc5a47f.b[&#x27;18&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;94&#x27;]++;data.push(request.result.key);\
__cov_6b9bc1bc5a47f.s[&#x27;95&#x27;]++;request.result.continue();};__cov_6b9bc1bc5a47f.s[&#x27;96&#x27;]++;break;case&#x27;length&#x27;:__cov_6b9bc1bc5a47f.b\
[&#x27;17&#x27;][3]++;__cov_6b9bc1bc5a47f.s[&#x27;97&#x27;]++;request=objectStore.count();__cov_6b9bc1bc5a47f.s[&#x27;98&#x27;]++;break;case&#x27;removeItem&#x27;:__cov\
_6b9bc1bc5a47f.b[&#x27;17&#x27;][4]++;__cov_6b9bc1bc5a47f.s[&#x27;99&#x27;]++;request=objectStore.delete(options.key);__cov_6b9bc1bc5a47f.s[&#x27;100&#x27;]++\
;break;case&#x27;setItem&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;17&#x27;][5]++;__cov_6b9bc1bc5a47f.s[&#x27;101&#x27;]++;request=objectStore.put(options.value,optio\
ns.key);__cov_6b9bc1bc5a47f.s[&#x27;102&#x27;]++;break;}__cov_6b9bc1bc5a47f.s[&#x27;103&#x27;]++;[&#x27;onabort&#x27;,&#x27;onerror&#x27;,&#x27;onsuccess&#x27;].forEach(function(\
handler){__cov_6b9bc1bc5a47f.f[&#x27;20&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;104&#x27;]++;request[handler]=(__cov_6b9bc1bc5a47f.b[&#x27;19&#x27;][0]++,request\
[handler])||(__cov_6b9bc1bc5a47f.b[&#x27;19&#x27;][1]++,onError2);});__cov_6b9bc1bc5a47f.s[&#x27;105&#x27;]++;local.nedb._debugDbStorageRequest=requ\
est;__cov_6b9bc1bc5a47f.s[&#x27;106&#x27;]++;break;case&#x27;node&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;12&#x27;][1]++;__cov_6b9bc1bc5a47f.s[&#x27;107&#x27;]++;switch(optio\
ns.action){case&#x27;clear&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;20&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;108&#x27;]++;local.child_process.spawn(&#x27;sh&#x27;,[&#x27;-c&#x27;,&#x27;rm \
&#x27;+local.nedb.dbStorage+&#x27;/*&#x27;],{stdio:[&#x27;ignore&#x27;,1,2]}).once(&#x27;exit&#x27;,function(){__cov_6b9bc1bc5a47f.f[&#x27;21&#x27;]++;__cov_6b9bc1bc5a47f.s[\
&#x27;109&#x27;]++;onError();});__cov_6b9bc1bc5a47f.s[&#x27;110&#x27;]++;break;case&#x27;ge ...</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    options.onNext();
};

local.nedb.dbStorageClear = function (onError) {
/*
 * this function will clear dbStorage
 */
    local.nedb.<span class="docApiCodeKeywordSpan">dbStorageDefer</span>({ action: &#x27;clear&#x27; }, onError);
};

local.nedb.dbStorageDefer = function (options, onError) {
/*
 * this function will defer options.action until dbStorage is ready
 */
    var data, done, objectStore, onError2, request, tmp;
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbStorageGetItem" id="element.nedb-lite.dbStorageGetItem">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbStorageGetItem
            <span class="docApiSignatureSpan">(key,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">dbStorageGetItem = function (key,onError){__cov_6b9bc1bc5a47f.f[&#x27;27&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;136&#x27;]++;local.nedb.assert(typeof key===&#x27;string&#x27;);__c\
ov_6b9bc1bc5a47f.s[&#x27;137&#x27;]++;local.nedb.dbStorageDefer({action:&#x27;getItem&#x27;,key:key},onError);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    }
    data += &#x27;\n&#x27;;
    data = data.slice(data.indexOf(&#x27;\n&#x27;) + 1);
    local.nedb.dbStorageSetItem(self.name, data, options.onNext);
    break;
// load persistence
case 3:
    local.nedb.<span class="docApiCodeKeywordSpan">dbStorageGetItem</span>(self.name, options.onNext);
    break;
case 4:
    // Load the database
    // 1) Create all indexes
    // 2) Insert all data
    // 3) Compact the database
    // This means pulling data out of the data file
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbStorageInit" id="element.nedb-lite.dbStorageInit">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbStorageInit
            <span class="docApiSignatureSpan">()</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">dbStorageInit = function (){__cov_6b9bc1bc5a47f.f[&#x27;28&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;139&#x27;]++;var options,request;__cov_6b9bc1bc5a47f.s[&#x27;140&#x27;]++;opti\
ons={};__cov_6b9bc1bc5a47f.s[&#x27;141&#x27;]++;local.nedb.onNext(options,function(error){__cov_6b9bc1bc5a47f.f[&#x27;29&#x27;]++;__cov_6b9bc1bc5a47\
f.s[&#x27;142&#x27;]++;local.nedb.assert(!error,error);__cov_6b9bc1bc5a47f.s[&#x27;143&#x27;]++;if(local.modeJs===&#x27;browser&#x27;){__cov_6b9bc1bc5a47f.b[&#x27;\
24&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;144&#x27;]++;local.nedb.dbStorage=local.global.nedb_storage;}else{__cov_6b9bc1bc5a47f.b[&#x27;24&#x27;][1]++;}\
__cov_6b9bc1bc5a47f.s[&#x27;145&#x27;]++;switch(options.modeNext){case 1:__cov_6b9bc1bc5a47f.b[&#x27;25&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;146&#x27;]++;i\
f(local.nedb.dbStorage){__cov_6b9bc1bc5a47f.b[&#x27;26&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;147&#x27;]++;options.onNext();__cov_6b9bc1bc5a47f.s[&#x27;\
148&#x27;]++;return;}else{__cov_6b9bc1bc5a47f.b[&#x27;26&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;149&#x27;]++;switch(local.modeJs){case&#x27;browser&#x27;:__cov_6\
b9bc1bc5a47f.b[&#x27;27&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;150&#x27;]++;try{__cov_6b9bc1bc5a47f.s[&#x27;151&#x27;]++;request=local.global.indexedDB.open(\
&#x27;nedb&#x27;);__cov_6b9bc1bc5a47f.s[&#x27;152&#x27;]++;request.onerror=options.onNext;__cov_6b9bc1bc5a47f.s[&#x27;153&#x27;]++;request.onsuccess=function(\
){__cov_6b9bc1bc5a47f.f[&#x27;30&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;154&#x27;]++;local.global.nedb_storage=request.result;__cov_6b9bc1bc5a47f.s[&#x27;1\
55&#x27;]++;options.onNext();};__cov_6b9bc1bc5a47f.s[&#x27;156&#x27;]++;request.onupgradeneeded=function(){__cov_6b9bc1bc5a47f.f[&#x27;31&#x27;]++;__cov_\
6b9bc1bc5a47f.s[&#x27;157&#x27;]++;if(!request.result.objectStoreNames.contains(&#x27;nedb&#x27;)){__cov_6b9bc1bc5a47f.b[&#x27;28&#x27;][0]++;__cov_6b9bc1bc5a\
47f.s[&#x27;158&#x27;]++;request.result.createObjectStore(&#x27;nedb&#x27;);}else{__cov_6b9bc1bc5a47f.b[&#x27;28&#x27;][1]++;}};}catch(ignore){}__cov_6b9bc1bc\
5a47f.s[&#x27;159&#x27;]++;break;case&#x27;node&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;27&#x27;][1]++;__cov_6b9bc1bc5a47f.s[&#x27;160&#x27;]++;local.nedb.dbStorage=&#x27;tmp/nedb\
.persistence.&#x27;+local.nedb.NODE_ENV;__cov_6b9bc1bc5a47f.s[&#x27;161&#x27;]++;local.child_process.spawnSync(&#x27;mkdir&#x27;,[&#x27;-p&#x27;,local.nedb.dbStora\
ge],{stdio:[&#x27;ignore&#x27;,1,2]});__cov_6b9bc1bc5a47f.s[&#x27;162&#x27;]++;options.onNext();__cov_6b9bc1bc5a47f.s[&#x27;163&#x27;]++;break;}__cov_6b9bc1bc\
5a47f.s[&#x27;164&#x27;]++;break;case 2:__cov_6b9bc1bc5a47f.b[&#x27;25&#x27;][1]++;__cov_6b9bc1bc5a47f.s[&#x27;165&#x27;]++;while(local.nedb.dbStorageDeferLis\
t.length){__cov_6b9bc1bc5a47f.s[&#x27;166&#x27;]++;local.nedb.dbStorageDeferList.shift()();}__cov_6b9bc1bc5a47f.s[&#x27;167&#x27;]++;break;}});__cov\
_6b9bc1bc5a47f.s[&#x27;168&#x27;]++;options.modeNext=0;__cov_6b9bc1bc5a47f.s[&#x27;169&#x27;]++;options.onNext();}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
var onParallel;
// jslint-hack
local.utility2.nop(options);
onParallel = local.utility2.onParallel(onError);
onParallel.counter += 1;
onParallel.counter += 1;
// test dbStorageInit&#x27;s re-init handling-behavior
local.nedb.<span class="docApiCodeKeywordSpan">dbStorageInit</span>();
// test dbStorageKey&#x27;s handling-behavior
local.nedb.dbStorageKeys(function () {
    local.utility2.tryCatchOnError(function () {
        // test dbStorageDefer&#x27;s done handling-behavior
        local.nedb._debugDbStorageRequest.onerror(local.utility2.errorDefault);
    }, local.utility2.nop);
    onParallel();
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbStorageKeys" id="element.nedb-lite.dbStorageKeys">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbStorageKeys
            <span class="docApiSignatureSpan">(onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">dbStorageKeys = function (onError){__cov_6b9bc1bc5a47f.f[&#x27;32&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;171&#x27;]++;local.nedb.dbStorageDefer({action:&#x27;keys&#x27;},onErro\
r);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
local.utility2.nop(options);
onParallel = local.utility2.onParallel(onError);
onParallel.counter += 1;
onParallel.counter += 1;
// test dbStorageInit&#x27;s re-init handling-behavior
local.nedb.dbStorageInit();
// test dbStorageKey&#x27;s handling-behavior
local.nedb.<span class="docApiCodeKeywordSpan">dbStorageKeys</span>(function () {
    local.utility2.tryCatchOnError(function () {
        // test dbStorageDefer&#x27;s done handling-behavior
        local.nedb._debugDbStorageRequest.onerror(local.utility2.errorDefault);
    }, local.utility2.nop);
    onParallel();
});
onParallel.counter += 1;
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbStorageLength" id="element.nedb-lite.dbStorageLength">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbStorageLength
            <span class="docApiSignatureSpan">(onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">dbStorageLength = function (onError){__cov_6b9bc1bc5a47f.f[&#x27;33&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;173&#x27;]++;local.nedb.dbStorageDefer({action:&#x27;length&#x27;},onEr\
ror);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
            // test dbStorageDefer&#x27;s done handling-behavior
            local.nedb._debugDbStorageRequest.onerror(local.utility2.errorDefault);
        }, local.utility2.nop);
        onParallel();
    });
    onParallel.counter += 1;
    // test dbStorageLength&#x27;s handling-behavior
    local.nedb.<span class="docApiCodeKeywordSpan">dbStorageLength</span>(onParallel);
    onParallel();
};

local.testCase_dbTableCountMany_default = function (options, onError) {
/*
 * this function will test dbTableCountMany&#x27;s default handling-behavior
 */
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbStorageRemoveItem" id="element.nedb-lite.dbStorageRemoveItem">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbStorageRemoveItem
            <span class="docApiSignatureSpan">(key,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">dbStorageRemoveItem = function (key,onError){__cov_6b9bc1bc5a47f.f[&#x27;34&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;175&#x27;]++;local.nedb.assert(typeof key===&#x27;string&#x27;);__c\
ov_6b9bc1bc5a47f.s[&#x27;176&#x27;]++;local.nedb.dbStorageDefer({action:&#x27;removeItem&#x27;,key:key},onError);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
 */
    var onParallel, self;
    self = this;
    onParallel = local.nedb.onParallel(onError);
    onParallel.counter += 1;
    self.crudRemoveMany({}, onParallel);
    onParallel.counter += 1;
    local.nedb.<span class="docApiCodeKeywordSpan">dbStorageRemoveItem</span>(self.name, onParallel);
};

local.nedb._DbTable.prototype.export = function () {
/*
 * this function will export dbTable
 */
    var data, self;
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbStorageSetItem" id="element.nedb-lite.dbStorageSetItem">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbStorageSetItem
            <span class="docApiSignatureSpan">(key,value,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">dbStorageSetItem = function (key,value,onError){__cov_6b9bc1bc5a47f.f[&#x27;35&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;178&#x27;]++;local.nedb.assert(typeof key===&#x27;string\
&#x27;);__cov_6b9bc1bc5a47f.s[&#x27;179&#x27;]++;local.nedb.assert(typeof value===&#x27;string&#x27;);__cov_6b9bc1bc5a47f.s[&#x27;180&#x27;]++;local.nedb.dbStorage\
Defer({action:&#x27;setItem&#x27;,key:key,value:value},onError);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    }
    if (!data) {
        options.onNext();
        return;
    }
    data += &#x27;\n&#x27;;
    data = data.slice(data.indexOf(&#x27;\n&#x27;) + 1);
    local.nedb.<span class="docApiCodeKeywordSpan">dbStorageSetItem</span>(self.name, data, options.onNext);
    break;
// load persistence
case 3:
    local.nedb.dbStorageGetItem(self.name, options.onNext);
    break;
case 4:
    // Load the database
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.dbTableCreate" id="element.nedb-lite.dbTableCreate">
            function <span class="docApiSignatureSpan">nedb-lite.</span>dbTableCreate
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">dbTableCreate = function (options,onError){__cov_6b9bc1bc5a47f.f[&#x27;36&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;182&#x27;]++;var self;__cov_6b9bc1bc5a47f.s[&#x27;183&#x27;]++;\
options=local.nedb.objectSetDefault({},options);__cov_6b9bc1bc5a47f.s[&#x27;184&#x27;]++;local.nedb.onNext(options,function(error,data){__\
cov_6b9bc1bc5a47f.f[&#x27;37&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;185&#x27;]++;switch(options.modeNext){case 1:__cov_6b9bc1bc5a47f.b[&#x27;29&#x27;][0]++;__co\
v_6b9bc1bc5a47f.s[&#x27;186&#x27;]++;self=local.nedb.dbTableDict[options.name]=(__cov_6b9bc1bc5a47f.b[&#x27;30&#x27;][0]++,local.nedb.dbTableDict[op\
tions.name])||(__cov_6b9bc1bc5a47f.b[&#x27;30&#x27;][1]++,new local.nedb._DbTable());__cov_6b9bc1bc5a47f.s[&#x27;187&#x27;]++;if(self.initialized){_\
_cov_6b9bc1bc5a47f.b[&#x27;31&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;188&#x27;]++;options.onNext();__cov_6b9bc1bc5a47f.s[&#x27;189&#x27;]++;return;}else{__co\
v_6b9bc1bc5a47f.b[&#x27;31&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;190&#x27;]++;self.initialized=1;__cov_6b9bc1bc5a47f.s[&#x27;191&#x27;]++;local.nedb.assert\
((__cov_6b9bc1bc5a47f.b[&#x27;32&#x27;][0]++,options)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;32&#x27;][1]++,options.name)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;32&#x27;][2]++,\
typeof options.name===&#x27;string&#x27;),(__cov_6b9bc1bc5a47f.b[&#x27;33&#x27;][0]++,options)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;33&#x27;][1]++,options.name));__c\
ov_6b9bc1bc5a47f.s[&#x27;192&#x27;]++;self.name=(__cov_6b9bc1bc5a47f.b[&#x27;34&#x27;][0]++,self.name)||(__cov_6b9bc1bc5a47f.b[&#x27;34&#x27;][1]++,options.na\
me);__cov_6b9bc1bc5a47f.s[&#x27;193&#x27;]++;self.indexes={_id:new local.nedb.Index({fieldName:&#x27;_id&#x27;,unique:true}),createdAt:new local.ned\
b.Index({fieldName:&#x27;createdAt&#x27;}),updatedAt:new local.nedb.Index({fieldName:&#x27;updatedAt&#x27;})};__cov_6b9bc1bc5a47f.s[&#x27;194&#x27;]++;self.tt\
lIndexes={};__cov_6b9bc1bc5a47f.s[&#x27;195&#x27;]++;options.onNext();__cov_6b9bc1bc5a47f.s[&#x27;196&#x27;]++;break;case 2:__cov_6b9bc1bc5a47f.b[&#x27;2\
9&#x27;][1]++;__cov_6b9bc1bc5a47f.s[&#x27;197&#x27;]++;if(self.initialized!==1){__cov_6b9bc1bc5a47f.b[&#x27;35&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;198&#x27;]++\
;options.modeNext+=2;__cov_6b9bc1bc5a47f.s[&#x27;199&#x27;]++;options.onNext();__cov_6b9bc1bc5a47f.s[&#x27;200&#x27;]++;return;}else{__cov_6b9bc1bc5\
a47f.b[&#x27;35&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;201&#x27;]++;self.initialized+=1;__cov_6b9bc1bc5a47f.s[&#x27;202&#x27;]++;data=((__cov_6b9bc1bc5a47f.\
b[&#x27;36&#x27;][0]++,options.persistenceData)||(__cov_6b9bc1bc5a47f.b[&#x27;36&#x27;][1]++,&#x27;&#x27;)).trim();__cov_6b9bc1bc5a47f.s[&#x27;203&#x27;]++;if(options.r\
eset){__cov_6b9bc1bc5a47f.b[&#x27;37&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;204&#x27;]++;data=&#x27;undefined&#x27;;}else{__cov_6b9bc1bc5a47f.b[&#x27;37&#x27;][1]++;}_\
_cov_6b9bc1bc5a47f.s[&#x27;205&#x27;]++;if(!data){__cov_6b9bc1bc5a47f.b[&#x27;38&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;206&#x27;]++;options.onNext();__cov_6\
b9bc1bc5a47f.s[&#x27;207&#x27;]++;return;}else{__cov_6b9bc1bc5a47f.b[&#x27;38&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;208&#x27;]++;data+=&#x27;\n&#x27;;__cov_6b9bc1bc5\
a47f.s[&#x27;209&#x27;]++;data=data.slice(data.indexOf(&#x27;\n&#x27;)+1);__cov_6b9bc1bc5a47f.s[&#x27;210&#x27;]++;local.nedb.dbStorageSetItem(self.name,data,\
options.onNext);__cov_6b9bc1bc5a47f.s[&#x27;211&#x27;]++;break;case 3:__cov_6b9bc1bc5a47f.b[&#x27;29&#x27;][2]++;__cov_6b9bc1bc5a47f.s[&#x27;212&#x27;]++;loca\
l.nedb.dbStorageGetItem(self.name,options.onNext);__cov_6b9bc1bc5a47f.s[&#x27;213&#x27;]++;break;case 4:__cov_6b9bc1bc5a47f.b[&#x27;29&#x27;][3]++;_\
_cov_6b9bc1bc5a47f.s[&#x27;214&#x27;]++;options.dataById={};__cov_6b9bc1bc5a47f.s[&#x27;215&#x27;]++;options.tdata=[];__cov_6b9bc1bc5a47f.s[&#x27;216&#x27;]++\
;((__cov_6b9bc1bc5a47f.b[&#x27;39&#x27;][0]++,data)||(__cov_6b9bc1bc5a47f.b[&#x27;39&#x27;][1]++,&#x27;&#x27;)).trim().split(&#x27;\n&#x27;).slice(1).forEach(function(d\
bRow){__cov_6b9bc1bc5a47f.f[&#x27;38&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;217&#x27;]++;try{__cov_6b9bc1bc5a47f.s[&#x27;218&#x27;]++;dbRow=JSON.parse(dbRow);}c\
atch(errorCaught){__cov_6b9bc1bc5a47f.s[&#x27;219&#x27;]++;return;}__cov_6b9bc1bc5a47f.s[&#x27;220&#x27;]++;if(dbRow._id){__cov_6b9bc1bc5a47f.b[&#x27;40&#x27;\
][0]++;__cov_6b9bc1bc5a47f.s[&#x27;221&#x27;]++;if(dbRow.$$deleted===true){__cov_6b9bc1bc5a47f.b[&#x27;41&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;222&#x27;]++\
;delete options.dataById[dbRow._id];}else{__cov_6b9bc1bc5a47f.b[&#x27;41&#x27;][1]++;__cov_6b9bc1bc5a47f.s[&#x27;223&#x27;]++;options.dataById[dbRow\
._id]=dbRow;}}else{__cov_6b9bc1bc5a47f.b[&#x27;40&#x27;][1]++;__cov_6b9bc1bc5a47f.s[&#x27;224&#x27;]++;if((__cov_6b9bc1bc5a47f.b[&#x27;43&#x27;][0]++,dbRow.$$\
indexCreated)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;43&#x27;][1]++,dbRow.$$indexCreated.fieldName!==undefined)){__cov_6b9bc1bc5a47f.b[&#x27;42&#x27;][0]++;_\
_cov_6b9bc1bc5a47f.s[&#x27;225&#x27;]++;self.indexes[dbRow.$$indexCreated.fi ...</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    &lt;label&gt;edit or paste script below to\n\
        &lt;a\n\
            href=&quot;https://kaizhu256.github.io/node-nedb-lite/build/doc.api.html&quot;\n\
            target=&quot;_blank&quot;\n\
        &gt;eval&lt;/a&gt;\n\
    &lt;/label&gt;\n\
&lt;textarea id=&quot;inputTextarea1&quot;&gt;\n\
window.table1 = window.nedb_lite.<span class="docApiCodeKeywordSpan">dbTableCreate</span>({ name: &quot;table1&quot; });\n\
table1.crudInsert({ field1: &quot;hello&quot;, field2: &quot;world&quot;}, function () {\n\
    console.log();\n\
    console.log(table1.export());\n\
});\n\
\n\
window.table2 = window.nedb_lite.dbTableCreate({ name: &quot;table2&quot; });\n\
table2.crudInsert({ field1: &quot;hello&quot;, field2: &quot;world&quot;}, function () {\n\
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.isRegExp" id="element.nedb-lite.isRegExp">
            function <span class="docApiSignatureSpan">nedb-lite.</span>isRegExp
            <span class="docApiSignatureSpan">(obj)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">isRegExp = function (obj){__cov_6b9bc1bc5a47f.f[&#x27;60&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;350&#x27;]++;return Object.prototype.toString.call(obj)===&#x27;[objec\
t RegExp]&#x27;;}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
                if (Array.isArray(objValue) &amp;&amp; !treatObjAsValue) {
// If the queryValue is an array, try to perform an exact match
if (Array.isArray(queryValue)) {
    return matchQueryPart(obj, queryKey, queryValue, true);
}

// Check if we are using an array-specific comparison function
if (queryValue !== null &amp;&amp; typeof queryValue === &#x27;object&#x27; &amp;&amp; !local.nedb.<span class="docApiCodeKeywor\
dSpan">isRegExp</span>(queryValue)) {
    tmp = Object.keys(queryValue).some(function (key) {
        switch (key) {
        case &#x27;$elemMatch&#x27;:
        case &#x27;$size&#x27;:
            return matchQueryPart(obj, queryKey, queryValue, true);
        }
    });
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.jsonCopy" id="element.nedb-lite.jsonCopy">
            function <span class="docApiSignatureSpan">nedb-lite.</span>jsonCopy
            <span class="docApiSignatureSpan">(arg)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">jsonCopy = function (arg){__cov_6b9bc1bc5a47f.f[&#x27;41&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;244&#x27;]++;return arg===undefined?(__cov_6b9bc1bc5a47f.b[&#x27;46&#x27;][\
0]++,undefined):(__cov_6b9bc1bc5a47f.b[&#x27;46&#x27;][1]++,JSON.parse(JSON.stringify(arg)));}</pre></li>
        <li>example usage<pre class="docApiCodePre">...

if (dollarFirstChars.length !== 0 &amp;&amp; dollarFirstChars.length !== firstChars.length) {
    throw new Error(&#x27;You cannot mix modifiers and normal fields&#x27;);
}

if (dollarFirstChars.length === 0) {
    // Simply replace the object with the update query contents
    newDoc = local.nedb.<span class="docApiCodeKeywordSpan">jsonCopy</span>(updateQuery);
    newDoc._id = obj._id;
} else {
    // Apply modifiers
    modifiers = local.nedb.listUnique(keys);
    newDoc = local.nedb.jsonCopy(obj);
    modifiers.forEach(function (m) {
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.jsonStringifyOrdered" id="element.nedb-lite.jsonStringifyOrdered">
            function <span class="docApiSignatureSpan">nedb-lite.</span>jsonStringifyOrdered
            <span class="docApiSignatureSpan">(element,replacer,space)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">jsonStringifyOrdered = function (element,replacer,space){__cov_6b9bc1bc5a47f.f[&#x27;42&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;246&#x27;]++;var circularList,stringify,tmp;__\
cov_6b9bc1bc5a47f.s[&#x27;247&#x27;]++;stringify=function(element){__cov_6b9bc1bc5a47f.f[&#x27;43&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;248&#x27;]++;if((__cov_\
6b9bc1bc5a47f.b[&#x27;48&#x27;][0]++,element)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;48&#x27;][1]++,typeof element===&#x27;object&#x27;)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;48&#x27;][\
2]++,typeof element.toJSON!==&#x27;function&#x27;)){__cov_6b9bc1bc5a47f.b[&#x27;47&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;249&#x27;]++;if(circularList.indexO\
f(element)&gt;=0){__cov_6b9bc1bc5a47f.b[&#x27;49&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;250&#x27;]++;return;}else{__cov_6b9bc1bc5a47f.b[&#x27;49&#x27;][1]++;}__\
cov_6b9bc1bc5a47f.s[&#x27;251&#x27;]++;circularList.push(element);__cov_6b9bc1bc5a47f.s[&#x27;252&#x27;]++;if(Array.isArray(element)){__cov_6b9bc1bc\
5a47f.b[&#x27;50&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;253&#x27;]++;return&#x27;[&#x27;+element.map(function(element){__cov_6b9bc1bc5a47f.f[&#x27;44&#x27;]++;__cov_6b\
9bc1bc5a47f.s[&#x27;254&#x27;]++;tmp=stringify(element);__cov_6b9bc1bc5a47f.s[&#x27;255&#x27;]++;return typeof tmp===&#x27;string&#x27;?(__cov_6b9bc1bc5a47f.b\
[&#x27;51&#x27;][0]++,tmp):(__cov_6b9bc1bc5a47f.b[&#x27;51&#x27;][1]++,&#x27;null&#x27;);}).join(&#x27;,&#x27;)+&#x27;]&#x27;;}else{__cov_6b9bc1bc5a47f.b[&#x27;50&#x27;][1]++;}__cov_6b9bc1\
bc5a47f.s[&#x27;256&#x27;]++;return&#x27;{&#x27;+Object.keys(element).sort().map(function(key){__cov_6b9bc1bc5a47f.f[&#x27;45&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;\
257&#x27;]++;tmp=stringify(element[key]);__cov_6b9bc1bc5a47f.s[&#x27;258&#x27;]++;return typeof tmp===&#x27;string&#x27;?(__cov_6b9bc1bc5a47f.b[&#x27;52&#x27;][0]+\
+,JSON.stringify(key)+&#x27;:&#x27;+tmp):(__cov_6b9bc1bc5a47f.b[&#x27;52&#x27;][1]++,undefined);}).filter(function(element){__cov_6b9bc1bc5a47f.f[&#x27;4\
6&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;259&#x27;]++;return typeof element===&#x27;string&#x27;;}).join(&#x27;,&#x27;)+&#x27;}&#x27;;}else{__cov_6b9bc1bc5a47f.b[&#x27;47&#x27;][1]++;}_\
_cov_6b9bc1bc5a47f.s[&#x27;260&#x27;]++;return JSON.stringify(element);};__cov_6b9bc1bc5a47f.s[&#x27;261&#x27;]++;circularList=[];__cov_6b9bc1bc5a47\
f.s[&#x27;262&#x27;]++;return JSON.stringify((__cov_6b9bc1bc5a47f.b[&#x27;54&#x27;][0]++,element)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;54&#x27;][1]++,typeof element=\
==&#x27;object&#x27;)?(__cov_6b9bc1bc5a47f.b[&#x27;53&#x27;][0]++,JSON.parse(stringify(element))):(__cov_6b9bc1bc5a47f.b[&#x27;53&#x27;][1]++,element),replace\
r,space);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    console[&#x27;_&#x27; + key] = console[key];
    console[key] = function () {
        console[&#x27;_&#x27; + key].apply(console, arguments);
        document.querySelector(&#x27;#outputTextarea1&#x27;).value +=
            Array.prototype.slice.call(arguments).map(function (arg) {
                return typeof arg === &#x27;string&#x27;
                    ? arg
                    : local.nedb.<span class="docApiCodeKeywordSpan">jsonStringifyOrdered</span>(arg, null, 4);
            }).join(&#x27; &#x27;) + &#x27;\n&#x27;;
    };
});
/* istanbul ignore next */
local.testRun = function (event) {
    var reader, tmp;
    switch (event &amp;&amp; event.currentTarget.id) {
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.listUnique" id="element.nedb-lite.listUnique">
            function <span class="docApiSignatureSpan">nedb-lite.</span>listUnique
            <span class="docApiSignatureSpan">(list)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">listUnique = function (list){__cov_6b9bc1bc5a47f.f[&#x27;61&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;352&#x27;]++;var seen;__cov_6b9bc1bc5a47f.s[&#x27;353&#x27;]++;seen={};__c\
ov_6b9bc1bc5a47f.s[&#x27;354&#x27;]++;return list.filter(function(element){__cov_6b9bc1bc5a47f.f[&#x27;62&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;355&#x27;]++;if\
(seen.hasOwnProperty(element)){__cov_6b9bc1bc5a47f.b[&#x27;87&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;356&#x27;]++;return;}else{__cov_6b9bc1bc5a47f.\
b[&#x27;87&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;357&#x27;]++;seen[element]=true;__cov_6b9bc1bc5a47f.s[&#x27;358&#x27;]++;return true;});}</pre></li>
        <li>example usage<pre class="docApiCodePre">...

            if (dollarFirstChars.length === 0) {
                // Simply replace the object with the update query contents
                newDoc = local.nedb.jsonCopy(updateQuery);
                newDoc._id = obj._id;
            } else {
                // Apply modifiers
                modifiers = local.nedb.<span class="docApiCodeKeywordSpan">listUnique</span>(keys);
                newDoc = local.nedb.jsonCopy(obj);
                modifiers.forEach(function (m) {

if (!modifierFunctions[m]) {
    throw new Error(&#x27;Unknown modifier &#x27; + m);
}
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.nop" id="element.nedb-lite.nop">
            function <span class="docApiSignatureSpan">nedb-lite.</span>nop
            <span class="docApiSignatureSpan">()</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">nop = function (){__cov_6b9bc1bc5a47f.f[&#x27;47&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;264&#x27;]++;return;}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
};

local.testCase_dbImport_default = function (options, onError) {
/*
 * this function will test dbImport&#x27;s default handling-behavior
 */
    // jslint-hack
    local.utility2.<span class="docApiCodeKeywordSpan">nop</span>(options);
    local.nedb.dbImport(&#x27;&quot;testCase_dbImport_default&quot;\n{&quot;id&quot;:0}&#x27;, onError);
};

local.testCase_dbStorageXxx_misc = function (options, onError) {
/*
 * this function will test dbStorageXxx&#x27;s misc handling-behavior
 */
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.objectSetDefault" id="element.nedb-lite.objectSetDefault">
            function <span class="docApiSignatureSpan">nedb-lite.</span>objectSetDefault
            <span class="docApiSignatureSpan">(arg,defaults)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">objectSetDefault = function (arg,defaults){__cov_6b9bc1bc5a47f.f[&#x27;48&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;266&#x27;]++;arg=(__cov_6b9bc1bc5a47f.b[&#x27;55&#x27;][0]++,arg)|\
|(__cov_6b9bc1bc5a47f.b[&#x27;55&#x27;][1]++,{});__cov_6b9bc1bc5a47f.s[&#x27;267&#x27;]++;defaults=(__cov_6b9bc1bc5a47f.b[&#x27;56&#x27;][0]++,defaults)||(__c\
ov_6b9bc1bc5a47f.b[&#x27;56&#x27;][1]++,{});__cov_6b9bc1bc5a47f.s[&#x27;268&#x27;]++;Object.keys(defaults).forEach(function(key){__cov_6b9bc1bc5a47f\
.f[&#x27;49&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;269&#x27;]++;if(defaults[key]!==undefined){__cov_6b9bc1bc5a47f.b[&#x27;57&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;\
270&#x27;]++;arg[key]=(__cov_6b9bc1bc5a47f.b[&#x27;58&#x27;][0]++,arg[key])||(__cov_6b9bc1bc5a47f.b[&#x27;58&#x27;][1]++,defaults[key]);}else{__cov_6b9bc\
1bc5a47f.b[&#x27;57&#x27;][1]++;}});__cov_6b9bc1bc5a47f.s[&#x27;271&#x27;]++;return arg;}</pre></li>
        <li>example usage<pre class="docApiCodePre">...

    // run shared js-env code - function
    (function () {
local.crudOptionsSetDefault = function (options, defaults) {
/*
 * this function will set default-values for options
 */
    options = local.utility2.<span class="docApiCodeKeywordSpan">objectSetDefault</span>(options, defaults);
    options.dbTable = local.nedb.dbTableDict.TestCrud;
    // shallow-copy options
    return local.utility2.objectSetDefault({}, options);
};

local.testCase_consoleLog_default = function (options, onError) {
/*
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.onErrorDefault" id="element.nedb-lite.onErrorDefault">
            function <span class="docApiSignatureSpan">nedb-lite.</span>onErrorDefault
            <span class="docApiSignatureSpan">(error)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">onErrorDefault = function (error){__cov_6b9bc1bc5a47f.f[&#x27;50&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;273&#x27;]++;if((__cov_6b9bc1bc5a47f.b[&#x27;60&#x27;][0]++,error)&amp;&amp;(__co\
v_6b9bc1bc5a47f.b[&#x27;60&#x27;][1]++,!local.global.__coverage__)){__cov_6b9bc1bc5a47f.b[&#x27;59&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;274&#x27;]++;consol\
e.error(&#x27;\nonErrorDefault - error\n&#x27;+error.message+&#x27;\n&#x27;+error.stack+&#x27;\n&#x27;);}else{__cov_6b9bc1bc5a47f.b[&#x27;59&#x27;][1]++;}}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
            return bb.test(aa);
        case &#x27;$size&#x27;:
            return (Array.isArray(aa) &amp;&amp; aa.length === bb);
        default:
            return false;
        }
    } catch (errorCaught) {
        local.nedb.<span class="docApiCodeKeywordSpan">onErrorDefault</span>(errorCaught);
        return false;
    }
};

local.nedb.sortCompare = function (aa, bb) {
/*
 * this function will sort-compare aa vs bb
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.onNext" id="element.nedb-lite.onNext">
            function <span class="docApiSignatureSpan">nedb-lite.</span>onNext
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">onNext = function (options,onError){__cov_6b9bc1bc5a47f.f[&#x27;51&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;276&#x27;]++;options.onNext=function(error,data,meta)\
{__cov_6b9bc1bc5a47f.f[&#x27;52&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;277&#x27;]++;try{__cov_6b9bc1bc5a47f.s[&#x27;278&#x27;]++;options.modeNext=error?(__cov_6\
b9bc1bc5a47f.b[&#x27;61&#x27;][0]++,Infinity):(__cov_6b9bc1bc5a47f.b[&#x27;61&#x27;][1]++,options.modeNext+1);__cov_6b9bc1bc5a47f.s[&#x27;279&#x27;]++;onError\
(error,data,meta);}catch(errorCaught){__cov_6b9bc1bc5a47f.s[&#x27;280&#x27;]++;if(options.errorCaught){__cov_6b9bc1bc5a47f.b[&#x27;62&#x27;][0]++;__\
cov_6b9bc1bc5a47f.s[&#x27;281&#x27;]++;throw options.errorCaught;}else{__cov_6b9bc1bc5a47f.b[&#x27;62&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;282&#x27;]++;op\
tions.errorCaught=errorCaught;__cov_6b9bc1bc5a47f.s[&#x27;283&#x27;]++;options.onNext(errorCaught,data,meta);}};__cov_6b9bc1bc5a47f.s[&#x27;284\
&#x27;]++;return options;}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
local.testCase_dbTableCountMany_default = function (options, onError) {
/*
 * this function will test dbTableCountMany&#x27;s default handling-behavior
 */
    options = local.crudOptionsSetDefault(options, {
        id: &#x27;testCase_dbTableCountMany_default&#x27;
    });
    local.utility2.<span class="docApiCodeKeywordSpan">onNext</span>(options, function (error, data) {
        switch (options.modeNext) {
        case 1:
            options.dbTable.crudCountMany({
                query: { id: options.id }
            }, options.onNext);
            break;
        case 2:
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.onParallel" id="element.nedb-lite.onParallel">
            function <span class="docApiSignatureSpan">nedb-lite.</span>onParallel
            <span class="docApiSignatureSpan">(onError,onDebug)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">onParallel = function (onError,onDebug){__cov_6b9bc1bc5a47f.f[&#x27;53&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;286&#x27;]++;var self;__cov_6b9bc1bc5a47f.s[&#x27;287&#x27;]++;\
onDebug=(__cov_6b9bc1bc5a47f.b[&#x27;63&#x27;][0]++,onDebug)||(__cov_6b9bc1bc5a47f.b[&#x27;63&#x27;][1]++,local.nedb.nop);__cov_6b9bc1bc5a47f.s[&#x27;288\
&#x27;]++;self=function(error){__cov_6b9bc1bc5a47f.f[&#x27;54&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;289&#x27;]++;onDebug(error,self);__cov_6b9bc1bc5a47f.s\
[&#x27;290&#x27;]++;if((__cov_6b9bc1bc5a47f.b[&#x27;65&#x27;][0]++,self.counter===0)||(__cov_6b9bc1bc5a47f.b[&#x27;65&#x27;][1]++,self.error)){__cov_6b9bc1bc5\
a47f.b[&#x27;64&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;291&#x27;]++;return;}else{__cov_6b9bc1bc5a47f.b[&#x27;64&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;292&#x27;]++;i\
f(error){__cov_6b9bc1bc5a47f.b[&#x27;66&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;293&#x27;]++;self.error=error;__cov_6b9bc1bc5a47f.s[&#x27;294&#x27;]++;self.co\
unter=1;}else{__cov_6b9bc1bc5a47f.b[&#x27;66&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;295&#x27;]++;self.counter-=1;__cov_6b9bc1bc5a47f.s[&#x27;296&#x27;]++;if\
(self.counter===0){__cov_6b9bc1bc5a47f.b[&#x27;67&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;297&#x27;]++;onError(error);}else{__cov_6b9bc1bc5a47f.b[&#x27;6\
7&#x27;][1]++;}};__cov_6b9bc1bc5a47f.s[&#x27;298&#x27;]++;self.counter=0;__cov_6b9bc1bc5a47f.s[&#x27;299&#x27;]++;return self;}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
};

local.testCase_dbExport_default = function (options, onError) {
/*
 * this function will test dbExport&#x27;s default handling-behavior
 */
    var onParallel;
    onParallel = local.utility2.<span class="docApiCodeKeywordSpan">onParallel</span>(onError);
    onParallel.counter += 1;
    options = {};
    options.name = &#x27;testCase_dbExport_default&#x27;;
    options.dbTable = local.nedb.dbTableCreate(options);
    onParallel.counter += 1;
    local.nedb.dbIndexCreate(options, {
        fieldName: &#x27;id&#x27;,
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.queryCompare" id="element.nedb-lite.queryCompare">
            function <span class="docApiSignatureSpan">nedb-lite.</span>queryCompare
            <span class="docApiSignatureSpan">(operator,aa,bb)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">queryCompare = function (operator,aa,bb){__cov_6b9bc1bc5a47f.f[&#x27;55&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;301&#x27;]++;try{__cov_6b9bc1bc5a47f.s[&#x27;302&#x27;]++;switch\
(operator){case&#x27;$elemMatch&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;68&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;303&#x27;]++;return(Array.isArray(aa)?(__cov_6b9b\
c1bc5a47f.b[&#x27;69&#x27;][0]++,aa):(__cov_6b9bc1bc5a47f.b[&#x27;69&#x27;][1]++,[])).some(function(element){__cov_6b9bc1bc5a47f.f[&#x27;56&#x27;]++;__cov_6b9\
bc1bc5a47f.s[&#x27;304&#x27;]++;return local.nedb.queryMatch(element,bb);});case&#x27;$eq&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;68&#x27;][1]++;__cov_6b9bc1bc5a47f\
.s[&#x27;305&#x27;]++;return local.nedb.sortCompare(aa,bb)===0;case&#x27;$exists&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;68&#x27;][2]++;__cov_6b9bc1bc5a47f.s[&#x27;306&#x27;]\
++;return!(!aa^!bb);case&#x27;$gt&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;68&#x27;][3]++;__cov_6b9bc1bc5a47f.s[&#x27;307&#x27;]++;return local.nedb.sortCompare(aa,b\
b)&gt;0;case&#x27;$gte&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;68&#x27;][4]++;__cov_6b9bc1bc5a47f.s[&#x27;308&#x27;]++;return local.nedb.sortCompare(aa,bb)&gt;=0;case&#x27;$in\
&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;68&#x27;][5]++;__cov_6b9bc1bc5a47f.s[&#x27;309&#x27;]++;return(__cov_6b9bc1bc5a47f.b[&#x27;70&#x27;][0]++,Array.isArray(bb))&amp;&amp;(_\
_cov_6b9bc1bc5a47f.b[&#x27;70&#x27;][1]++,bb.some(function(cc){__cov_6b9bc1bc5a47f.f[&#x27;57&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;310&#x27;]++;return local.n\
edb.sortCompare(aa,cc)===0;}));case&#x27;$lt&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;68&#x27;][6]++;__cov_6b9bc1bc5a47f.s[&#x27;311&#x27;]++;return local.nedb.sortC\
ompare(aa,bb)&lt;0;case&#x27;$lte&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;68&#x27;][7]++;__cov_6b9bc1bc5a47f.s[&#x27;312&#x27;]++;return local.nedb.sortCompare(aa,bb)&lt;\
=0;case&#x27;$ne&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;68&#x27;][8]++;__cov_6b9bc1bc5a47f.s[&#x27;313&#x27;]++;return local.nedb.sortCompare(aa,bb)!==0;case&#x27;$nin&#x27;\
:__cov_6b9bc1bc5a47f.b[&#x27;68&#x27;][9]++;__cov_6b9bc1bc5a47f.s[&#x27;314&#x27;]++;return(__cov_6b9bc1bc5a47f.b[&#x27;71&#x27;][0]++,Array.isArray(bb))&amp;&amp;(__\
cov_6b9bc1bc5a47f.b[&#x27;71&#x27;][1]++,bb.every(function(cc){__cov_6b9bc1bc5a47f.f[&#x27;58&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;315&#x27;]++;return local.n\
edb.sortCompare(aa,cc)!==0;}));case&#x27;$regex&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;68&#x27;][10]++;__cov_6b9bc1bc5a47f.s[&#x27;316&#x27;]++;return bb.test(aa);\
case&#x27;$size&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;68&#x27;][11]++;__cov_6b9bc1bc5a47f.s[&#x27;317&#x27;]++;return(__cov_6b9bc1bc5a47f.b[&#x27;72&#x27;][0]++,Array.isArr\
ay(aa))&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;72&#x27;][1]++,aa.length===bb);default:__cov_6b9bc1bc5a47f.b[&#x27;68&#x27;][12]++;__cov_6b9bc1bc5a47f.s[&#x27;318&#x27;\
]++;return false;}}catch(errorCaught){__cov_6b9bc1bc5a47f.s[&#x27;319&#x27;]++;local.nedb.onErrorDefault(errorCaught);__cov_6b9bc1bc5a47f.\
s[&#x27;320&#x27;]++;return false;}}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    ];
    options.forEach(function (element) {
        local.utility2.assertJsonEqual(
            [
                element[0],
                element[1],
                element[2],
                local.nedb.<span class="docApiCodeKeywordSpan">queryCompare</span>(element[0], element[1], element[2])
            ],
            element
        );
    });
    onError();
};
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.queryGetDotValue" id="element.nedb-lite.queryGetDotValue">
            function <span class="docApiSignatureSpan">nedb-lite.</span>queryGetDotValue
            <span class="docApiSignatureSpan">(obj,field)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">queryGetDotValue = function (obj,field){__cov_6b9bc1bc5a47f.f[&#x27;92&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;519&#x27;]++;var fieldParts,ii,objs;__cov_6b9bc1bc5a47f.s[&#x27;\
520&#x27;]++;fieldParts=typeof field===&#x27;string&#x27;?(__cov_6b9bc1bc5a47f.b[&#x27;151&#x27;][0]++,field.split(&#x27;.&#x27;)):(__cov_6b9bc1bc5a47f.b[&#x27;151&#x27;][1]\
++,field);__cov_6b9bc1bc5a47f.s[&#x27;521&#x27;]++;if(!obj){__cov_6b9bc1bc5a47f.b[&#x27;152&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;522&#x27;]++;return undefi\
ned;}else{__cov_6b9bc1bc5a47f.b[&#x27;152&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;523&#x27;]++;if(fieldParts.length===0){__cov_6b9bc1bc5a47f.b[&#x27;153\
&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;524&#x27;]++;return obj;}else{__cov_6b9bc1bc5a47f.b[&#x27;153&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;525&#x27;]++;if(fie\
ldParts.length===1){__cov_6b9bc1bc5a47f.b[&#x27;154&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;526&#x27;]++;return obj[fieldParts[0]];}else{__cov_6b9bc\
1bc5a47f.b[&#x27;154&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;527&#x27;]++;if(Array.isArray(obj[fieldParts[0]])){__cov_6b9bc1bc5a47f.b[&#x27;155&#x27;][0]++;_\
_cov_6b9bc1bc5a47f.s[&#x27;528&#x27;]++;ii=parseInt(fieldParts[1],10);__cov_6b9bc1bc5a47f.s[&#x27;529&#x27;]++;if((__cov_6b9bc1bc5a47f.b[&#x27;157&#x27;][0]++\
,typeof ii===&#x27;number&#x27;)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;157&#x27;][1]++,!isNaN(ii))){__cov_6b9bc1bc5a47f.b[&#x27;156&#x27;][0]++;__cov_6b9bc1bc5a47f.s[\
&#x27;530&#x27;]++;return local.nedb.queryGetDotValue(obj[fieldParts[0]][ii],fieldParts.slice(2));}else{__cov_6b9bc1bc5a47f.b[&#x27;156&#x27;][1]++;\
}__cov_6b9bc1bc5a47f.s[&#x27;531&#x27;]++;objs=[];__cov_6b9bc1bc5a47f.s[&#x27;532&#x27;]++;for(ii=0;ii&lt;obj[fieldParts[0]].length;ii+=1){__cov_6b9bc1\
bc5a47f.s[&#x27;533&#x27;]++;objs.push(local.nedb.queryGetDotValue(obj[fieldParts[0]][ii],fieldParts.slice(1)));}__cov_6b9bc1bc5a47f.s[&#x27;53\
4&#x27;]++;return objs;}else{__cov_6b9bc1bc5a47f.b[&#x27;155&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;535&#x27;]++;return local.nedb.queryGetDotValue(obj\
[fieldParts[0]],fieldParts.slice(1));}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
return obj[fieldParts[0]];
            }

            if (Array.isArray(obj[fieldParts[0]])) {
// If the next field is an integer, return only this item of the array
ii = parseInt(fieldParts[1], 10);
if (typeof ii === &#x27;number&#x27; &amp;&amp; !isNaN(ii)) {
    return local.nedb.<span class="docApiCodeKeywordSpan">queryGetDotValue</span>(obj[fieldParts[0]][ii], fieldParts.slice(2));
}

// Return the array of values
objs = [];
for (ii = 0; ii &lt; obj[fieldParts[0]].length; ii += 1) {
    objs.push(local.nedb.queryGetDotValue(obj[fieldParts[0]][ii], fieldParts.slice(1)));
}
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.queryMatch" id="element.nedb-lite.queryMatch">
            function <span class="docApiSignatureSpan">nedb-lite.</span>queryMatch
            <span class="docApiSignatureSpan">(obj,query)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">queryMatch = function (obj,query){__cov_6b9bc1bc5a47f.f[&#x27;98&#x27;]++;function matchQueryPart(obj,queryKey,queryValue,treatObjAsValue){__cov_6b9bc1\
bc5a47f.f[&#x27;99&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;582&#x27;]++;var objValue,ii,keys,firstChars,dollarFirstChars,tmp;__cov_6b9bc1bc5a47f.s[&#x27;583\
&#x27;]++;objValue=local.nedb.queryGetDotValue(obj,queryKey);__cov_6b9bc1bc5a47f.s[&#x27;584&#x27;]++;if((__cov_6b9bc1bc5a47f.b[&#x27;173&#x27;][0]++,Arr\
ay.isArray(objValue))&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;173&#x27;][1]++,!treatObjAsValue)){__cov_6b9bc1bc5a47f.b[&#x27;172&#x27;][0]++;__cov_6b9bc1bc5a4\
7f.s[&#x27;585&#x27;]++;if(Array.isArray(queryValue)){__cov_6b9bc1bc5a47f.b[&#x27;174&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;586&#x27;]++;return matchQueryPa\
rt(obj,queryKey,queryValue,true);}else{__cov_6b9bc1bc5a47f.b[&#x27;174&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;587&#x27;]++;if((__cov_6b9bc1bc5a47f\
.b[&#x27;176&#x27;][0]++,queryValue!==null)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;176&#x27;][1]++,typeof queryValue===&#x27;object&#x27;)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;176\
&#x27;][2]++,!local.nedb.isRegExp(queryValue))){__cov_6b9bc1bc5a47f.b[&#x27;175&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;588&#x27;]++;tmp=Object.keys(quer\
yValue).some(function(key){__cov_6b9bc1bc5a47f.f[&#x27;100&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;589&#x27;]++;switch(key){case&#x27;$elemMatch&#x27;:__cov_6b9b\
c1bc5a47f.b[&#x27;177&#x27;][0]++;case&#x27;$size&#x27;:__cov_6b9bc1bc5a47f.b[&#x27;177&#x27;][1]++;__cov_6b9bc1bc5a47f.s[&#x27;590&#x27;]++;return matchQueryPart(obj,q\
ueryKey,queryValue,true);}});__cov_6b9bc1bc5a47f.s[&#x27;591&#x27;]++;if(tmp){__cov_6b9bc1bc5a47f.b[&#x27;178&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;592\
&#x27;]++;return tmp;}else{__cov_6b9bc1bc5a47f.b[&#x27;178&#x27;][1]++;}}else{__cov_6b9bc1bc5a47f.b[&#x27;175&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;593&#x27;]++\
;for(ii=0;ii&lt;objValue.length;ii+=1){__cov_6b9bc1bc5a47f.s[&#x27;594&#x27;]++;if(matchQueryPart({k:objValue[ii]},&#x27;k&#x27;,queryValue)){__cov_6b9\
bc1bc5a47f.b[&#x27;179&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;595&#x27;]++;return true;}else{__cov_6b9bc1bc5a47f.b[&#x27;179&#x27;][1]++;}}__cov_6b9bc1bc5a47\
f.s[&#x27;596&#x27;]++;return false;}else{__cov_6b9bc1bc5a47f.b[&#x27;172&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;597&#x27;]++;if((__cov_6b9bc1bc5a47f.b[&#x27;181\
&#x27;][0]++,queryValue!==null)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;181&#x27;][1]++,typeof queryValue===&#x27;object&#x27;)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;181&#x27;][2]++\
,!local.nedb.isRegExp(queryValue))&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;181&#x27;][3]++,!Array.isArray(queryValue))){__cov_6b9bc1bc5a47f.b[&#x27;180&#x27;]\
[0]++;__cov_6b9bc1bc5a47f.s[&#x27;598&#x27;]++;keys=Object.keys(queryValue);__cov_6b9bc1bc5a47f.s[&#x27;599&#x27;]++;firstChars=keys.map(function(it\
em){__cov_6b9bc1bc5a47f.f[&#x27;101&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;600&#x27;]++;return item[0];});__cov_6b9bc1bc5a47f.s[&#x27;601&#x27;]++;dollarFirstCh\
ars=firstChars.filter(function(cc){__cov_6b9bc1bc5a47f.f[&#x27;102&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;602&#x27;]++;return cc===&#x27;$&#x27;;});__cov_6b9bc1\
bc5a47f.s[&#x27;603&#x27;]++;if((__cov_6b9bc1bc5a47f.b[&#x27;183&#x27;][0]++,dollarFirstChars.length!==0)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;183&#x27;][1]++,dollar\
FirstChars.length!==firstChars.length)){__cov_6b9bc1bc5a47f.b[&#x27;182&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;604&#x27;]++;throw new Error(&#x27;You ca\
nnot mix operators and normal fields&#x27;);}else{__cov_6b9bc1bc5a47f.b[&#x27;182&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;605&#x27;]++;if(dollarFirstCha\
rs.length&gt;0){__cov_6b9bc1bc5a47f.b[&#x27;184&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;606&#x27;]++;return keys.every(function(key){__cov_6b9bc1bc5a47\
f.f[&#x27;103&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;607&#x27;]++;return local.nedb.queryCompare(key,objValue,queryValue[key]);});}else{__cov_6b9bc1bc\
5a47f.b[&#x27;184&#x27;][1]++;}}else{__cov_6b9bc1bc5a47f.b[&#x27;180&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;608&#x27;]++;if(local.nedb.isRegExp(queryValue))\
{__cov_6b9bc1bc5a47f.b[&#x27;185&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;609&#x27;]++;return local.nedb.queryCompare(&#x27;$regex&#x27;,objValue,queryValue);}\
else{__cov_6b9bc1bc5a47f.b[&#x27;185&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;610&#x27;]++;if(!areThingsEqual(objValue,queryValue)){__cov_6b9bc1bc5a\
47f.b[&#x27;186&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;611&#x27;]++;return false;}else{__cov_6b9bc1bc5a47f.b[&#x27;186&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;61\
2&#x27;]++;return true;}__cov_6b9bc1bc5a47f.s[&#x27;613&#x27;]++;if((__cov_6b9bc1bc5a47f.b[&#x27;188&#x27;][0]++,isPrimitiveType(obj))||(__cov_6b9bc1bc5a\
47f.b[&#x27;188&#x27;][1]++,isPrimitiveType(query))){__cov_6b9bc1bc5a47f.b[&#x27;187&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;614&#x27;]++;return matchQueryPar\
t({needAKey:obj},&#x27;needAKey&#x27;,query);}else{__cov_6b9bc1bc5a47f.b[&#x27;18 ...</pre></li>
        <li>example usage<pre class="docApiCodePre">...
            try {
switch (operator) {
case &#x27;$elemMatch&#x27;:
    // If match for array element, return true
    return (Array.isArray(aa)
        ? aa
        : []).some(function (element) {
        return local.nedb.<span class="docApiCodeKeywordSpan">queryMatch</span>(element, bb);
    });
case &#x27;$eq&#x27;:
    return local.nedb.sortCompare(aa, bb) === 0;
case &#x27;$exists&#x27;:
    return !((!aa) ^ (!bb));
case &#x27;$gt&#x27;:
    return local.nedb.sortCompare(aa, bb) &gt; 0;
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.sortCompare" id="element.nedb-lite.sortCompare">
            function <span class="docApiSignatureSpan">nedb-lite.</span>sortCompare
            <span class="docApiSignatureSpan">(aa,bb)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">sortCompare = function (aa,bb){__cov_6b9bc1bc5a47f.f[&#x27;59&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;322&#x27;]++;var type1,type2;__cov_6b9bc1bc5a47f.s[&#x27;323&#x27;]++;if(\
aa===undefined){__cov_6b9bc1bc5a47f.b[&#x27;73&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;324&#x27;]++;aa=null;}else{__cov_6b9bc1bc5a47f.b[&#x27;73&#x27;][1]++;}\
__cov_6b9bc1bc5a47f.s[&#x27;325&#x27;]++;if(bb===undefined){__cov_6b9bc1bc5a47f.b[&#x27;74&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;326&#x27;]++;bb=null;}else{\
__cov_6b9bc1bc5a47f.b[&#x27;74&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;327&#x27;]++;if(aa===bb){__cov_6b9bc1bc5a47f.b[&#x27;75&#x27;][0]++;__cov_6b9bc1bc5a47\
f.s[&#x27;328&#x27;]++;return 0;}else{__cov_6b9bc1bc5a47f.b[&#x27;75&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;329&#x27;]++;if(aa===null){__cov_6b9bc1bc5a47f.b\
[&#x27;76&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;330&#x27;]++;return-1;}else{__cov_6b9bc1bc5a47f.b[&#x27;76&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;331&#x27;]++;if(bb\
===null){__cov_6b9bc1bc5a47f.b[&#x27;77&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;332&#x27;]++;return 1;}else{__cov_6b9bc1bc5a47f.b[&#x27;77&#x27;][1]++;}__cov_\
6b9bc1bc5a47f.s[&#x27;333&#x27;]++;type1=typeof aa;__cov_6b9bc1bc5a47f.s[&#x27;334&#x27;]++;type2=typeof bb;__cov_6b9bc1bc5a47f.s[&#x27;335&#x27;]++;if(type1!\
==type2){__cov_6b9bc1bc5a47f.b[&#x27;78&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;336&#x27;]++;if(type1===&#x27;boolean&#x27;){__cov_6b9bc1bc5a47f.b[&#x27;79&#x27;][0]++;\
__cov_6b9bc1bc5a47f.s[&#x27;337&#x27;]++;return-1;}else{__cov_6b9bc1bc5a47f.b[&#x27;79&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;338&#x27;]++;if(type2===&#x27;boole\
an&#x27;){__cov_6b9bc1bc5a47f.b[&#x27;80&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;339&#x27;]++;return 1;}else{__cov_6b9bc1bc5a47f.b[&#x27;80&#x27;][1]++;}__cov_6b9b\
c1bc5a47f.s[&#x27;340&#x27;]++;if(type1===&#x27;number&#x27;){__cov_6b9bc1bc5a47f.b[&#x27;81&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;341&#x27;]++;return-1;}else{__cov_6\
b9bc1bc5a47f.b[&#x27;81&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;342&#x27;]++;if(type2===&#x27;number&#x27;){__cov_6b9bc1bc5a47f.b[&#x27;82&#x27;][0]++;__cov_6b9bc1bc5a\
47f.s[&#x27;343&#x27;]++;return 1;}else{__cov_6b9bc1bc5a47f.b[&#x27;82&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;344&#x27;]++;if(type1===&#x27;string&#x27;){__cov_6b9bc1\
bc5a47f.b[&#x27;83&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;345&#x27;]++;return-1;}else{__cov_6b9bc1bc5a47f.b[&#x27;83&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;346&#x27;\
]++;if(type2===&#x27;string&#x27;){__cov_6b9bc1bc5a47f.b[&#x27;84&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;347&#x27;]++;return 1;}else{__cov_6b9bc1bc5a47f.b[&#x27;8\
4&#x27;][1]++;}}else{__cov_6b9bc1bc5a47f.b[&#x27;78&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;348&#x27;]++;return aa&lt;bb?(__cov_6b9bc1bc5a47f.b[&#x27;85&#x27;][0]++,\
-1):(__cov_6b9bc1bc5a47f.b[&#x27;85&#x27;][1]++,aa&gt;bb?(__cov_6b9bc1bc5a47f.b[&#x27;86&#x27;][0]++,1):(__cov_6b9bc1bc5a47f.b[&#x27;86&#x27;][1]++,0));}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    // If match for array element, return true
    return (Array.isArray(aa)
        ? aa
        : []).some(function (element) {
        return local.nedb.queryMatch(element, bb);
    });
case &#x27;$eq&#x27;:
    return local.nedb.<span class="docApiCodeKeywordSpan">sortCompare</span>(aa, bb) === 0;
case &#x27;$exists&#x27;:
    return !((!aa) ^ (!bb));
case &#x27;$gt&#x27;:
    return local.nedb.sortCompare(aa, bb) &gt; 0;
case &#x27;$gte&#x27;:
    return local.nedb.sortCompare(aa, bb) &gt;= 0;
case &#x27;$in&#x27;:
...</pre></li>
        </ul>
        
        
        
        
        
        
        
        
        
        
        
        
    </div>
    
    <div class="docApiSectionDiv">
    <h1><a href="#module.nedb-lite.Index" id="module.nedb-lite.Index">module nedb-lite.Index</a></h1>
        
        
        <h2>
            <a href="#element.nedb-lite.Index.Index" id="element.nedb-lite.Index.Index">
            function <span class="docApiSignatureSpan">nedb-lite.</span>Index
            <span class="docApiSignatureSpan">(options)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">Index = function (options){__cov_6b9bc1bc5a47f.f[&#x27;143&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1002&#x27;]++;this.fieldName=options.fieldName;__cov_6b9bc1b\
c5a47f.s[&#x27;1003&#x27;]++;this.isInteger=options.isInteger;__cov_6b9bc1bc5a47f.s[&#x27;1004&#x27;]++;this.unique=(__cov_6b9bc1bc5a47f.b[&#x27;325&#x27;][0]\
++,options.unique)||(__cov_6b9bc1bc5a47f.b[&#x27;325&#x27;][1]++,false);__cov_6b9bc1bc5a47f.s[&#x27;1005&#x27;]++;this.sparse=(__cov_6b9bc1bc5a47f.b\
[&#x27;326&#x27;][0]++,options.sparse)||(__cov_6b9bc1bc5a47f.b[&#x27;326&#x27;][1]++,false);__cov_6b9bc1bc5a47f.s[&#x27;1006&#x27;]++;this.reset();}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
*     becomes a TTL index (only works on Date fields, not arrays of Date)
* @param {Function} onError - callback, signature: error
*/
   var self;
   // require options.fieldName
   local.nedb.assert(options.fieldName, options.fieldName);
   self = local.nedb.dbTableDict[dbTable.name];
   self.indexes[options.fieldName] = new local.nedb.<span class="docApiCodeKeywordSpan">Index</span>(options);
   // With this implementation index creation is not necessary to ensure TTL
   // but we stick with MongoDB&#x27;s API here
   if (options.expireAfterSeconds !== undefined) {
       self.ttlIndexes[options.fieldName] = options.expireAfterSeconds;
   }
   self.indexes[options.fieldName].insert(self.crudGetAllSync());
   // We may want to force all options to be persisted including defaults,
...</pre></li>
        </ul>
        
        
    </div>
    
    <div class="docApiSectionDiv">
    <h1><a href="#module.nedb-lite.Index.prototype" id="module.nedb-lite.Index.prototype">module nedb-lite.Index.prototype</a></h1>
        
        
        <h2>
            <a href="#element.nedb-lite.Index.prototype.getBetweenBounds" id="element.nedb-lite.Index.prototype.getBetweenBounds">
            function <span class="docApiSignatureSpan">nedb-lite.Index.prototype.</span>getBetweenBounds
            <span class="docApiSignatureSpan">(query)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">getBetweenBounds = function (query){__cov_6b9bc1bc5a47f.f[&#x27;156&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1099&#x27;]++;return this.tree.betweenBounds(query);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
            usableQueryKeys.push(k);
        }
    });
    usableQueryKeys = usableQueryKeys.filter(function (element) {
        return self.indexes.hasOwnProperty(element);
    });
    if (usableQueryKeys.length &gt; 0) {
        return options.onNext(null, self.indexes[usableQueryKeys[0]].<span class="docApiCodeKeywordSpan">getBetweenBounds</span>\
(query[usableQueryKeys[0]]));
    }

    // By default, return all the DB data
    return options.onNext(null, self.crudGetAllSync());
// STEP 2: remove all expired dbRow&#x27;s
default:
    var validDocs = [],
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.Index.prototype.getMatching" id="element.nedb-lite.Index.prototype.getMatching">
            function <span class="docApiSignatureSpan">nedb-lite.Index.prototype.</span>getMatching
            <span class="docApiSignatureSpan">(value)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">getMatching = function (value){__cov_6b9bc1bc5a47f.f[&#x27;152&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1089&#x27;]++;var self=this,_res={},res=[];__cov_6b9bc1bc5a47f\
.s[&#x27;1090&#x27;]++;if(!Array.isArray(value)){__cov_6b9bc1bc5a47f.b[&#x27;345&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1091&#x27;]++;return self.tree.search\
(value);}else{__cov_6b9bc1bc5a47f.b[&#x27;345&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1092&#x27;]++;value.forEach(function(v){__cov_6b9bc1bc5a47f.f\
[&#x27;153&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1093&#x27;]++;self.getMatching(v).forEach(function(dbRow){__cov_6b9bc1bc5a47f.f[&#x27;154&#x27;]++;__cov_6b9bc\
1bc5a47f.s[&#x27;1094&#x27;]++;_res[dbRow._id]=dbRow;});});__cov_6b9bc1bc5a47f.s[&#x27;1095&#x27;]++;Object.keys(_res).forEach(function(_id){__cov_6\
b9bc1bc5a47f.f[&#x27;155&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1096&#x27;]++;res.push(_res[_id]);});__cov_6b9bc1bc5a47f.s[&#x27;1097&#x27;]++;return res;}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
if (self.unique &amp;&amp; !(key === 0 || key) &amp;&amp; self.fieldName.indexOf(&#x27;.&#x27;) &lt; 0) {
    while (true) {
        key = self.isInteger
            ? Math.floor(Math.random() * 0x20000000000000)
            : (&#x27;a&#x27; +
                Math.random().toString(36).slice(2) +
                Math.random().toString(36).slice(2)).slice(0, 16);
        if (!self.<span class="docApiCodeKeywordSpan">getMatching</span>(key).length) {
            break;
        }
    }
    dbRow[self.fieldName] = key;
}

if (!Array.isArray(key)) {
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.Index.prototype.insert" id="element.nedb-lite.Index.prototype.insert">
            function <span class="docApiSignatureSpan">nedb-lite.Index.prototype.</span>insert
            <span class="docApiSignatureSpan">(dbRow)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">insert = function (dbRow){__cov_6b9bc1bc5a47f.f[&#x27;145&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1012&#x27;]++;var key,keys,ii,failingI,error,self=this;__cov_6\
b9bc1bc5a47f.s[&#x27;1013&#x27;]++;if(Array.isArray(dbRow)){__cov_6b9bc1bc5a47f.b[&#x27;328&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1014&#x27;]++;self.insertM\
ultipleDocs(dbRow);__cov_6b9bc1bc5a47f.s[&#x27;1015&#x27;]++;return;}else{__cov_6b9bc1bc5a47f.b[&#x27;328&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1016&#x27;]\
++;key=local.nedb.queryGetDotValue(dbRow,self.fieldName);__cov_6b9bc1bc5a47f.s[&#x27;1017&#x27;]++;if((__cov_6b9bc1bc5a47f.b[&#x27;330&#x27;][0]++,k\
ey===undefined)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;330&#x27;][1]++,self.sparse)){__cov_6b9bc1bc5a47f.b[&#x27;329&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1018&#x27;\
]++;return;}else{__cov_6b9bc1bc5a47f.b[&#x27;329&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1019&#x27;]++;if((__cov_6b9bc1bc5a47f.b[&#x27;332&#x27;][0]++,self.u\
nique)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;332&#x27;][1]++,!((__cov_6b9bc1bc5a47f.b[&#x27;333&#x27;][0]++,key===0)||(__cov_6b9bc1bc5a47f.b[&#x27;333&#x27;][1]++,key\
)))&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;332&#x27;][2]++,self.fieldName.indexOf(&#x27;.&#x27;)&lt;0)){__cov_6b9bc1bc5a47f.b[&#x27;331&#x27;][0]++;__cov_6b9bc1bc5a47f.s[\
&#x27;1020&#x27;]++;while(true){__cov_6b9bc1bc5a47f.s[&#x27;1021&#x27;]++;key=self.isInteger?(__cov_6b9bc1bc5a47f.b[&#x27;334&#x27;][0]++,Math.floor(Math.rand\
om()*9007199254740992)):(__cov_6b9bc1bc5a47f.b[&#x27;334&#x27;][1]++,(&#x27;a&#x27;+Math.random().toString(36).slice(2)+Math.random().toString(36).s\
lice(2)).slice(0,16));__cov_6b9bc1bc5a47f.s[&#x27;1022&#x27;]++;if(!self.getMatching(key).length){__cov_6b9bc1bc5a47f.b[&#x27;335&#x27;][0]++;__cov_\
6b9bc1bc5a47f.s[&#x27;1023&#x27;]++;break;}else{__cov_6b9bc1bc5a47f.b[&#x27;335&#x27;][1]++;}}__cov_6b9bc1bc5a47f.s[&#x27;1024&#x27;]++;dbRow[self.fieldName]=\
key;}else{__cov_6b9bc1bc5a47f.b[&#x27;331&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1025&#x27;]++;if(!Array.isArray(key)){__cov_6b9bc1bc5a47f.b[&#x27;336&#x27;\
][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1026&#x27;]++;self.tree=self.tree.insert(key,dbRow);}else{__cov_6b9bc1bc5a47f.b[&#x27;336&#x27;][1]++;__cov_6b9bc\
1bc5a47f.s[&#x27;1027&#x27;]++;keys=local.nedb.listUnique(key).map(projectForUnique);__cov_6b9bc1bc5a47f.s[&#x27;1028&#x27;]++;for(ii=0;ii&lt;keys.leng\
th;ii+=1){__cov_6b9bc1bc5a47f.s[&#x27;1029&#x27;]++;try{__cov_6b9bc1bc5a47f.s[&#x27;1030&#x27;]++;self.tree=self.tree.insert(keys[ii],dbRow);}catch(\
errorCaught){__cov_6b9bc1bc5a47f.s[&#x27;1031&#x27;]++;error=errorCaught;__cov_6b9bc1bc5a47f.s[&#x27;1032&#x27;]++;failingI=ii;__cov_6b9bc1bc5a47f.s\
[&#x27;1033&#x27;]++;break;}}__cov_6b9bc1bc5a47f.s[&#x27;1034&#x27;]++;if(error){__cov_6b9bc1bc5a47f.b[&#x27;337&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1035&#x27;]++;f\
or(ii=0;ii&lt;failingI;ii+=1){__cov_6b9bc1bc5a47f.s[&#x27;1036&#x27;]++;self.tree=self.tree.delete(keys[ii],dbRow);}__cov_6b9bc1bc5a47f.s[&#x27;10\
37&#x27;]++;throw error;}else{__cov_6b9bc1bc5a47f.b[&#x27;337&#x27;][1]++;}}}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    self = local.nedb.dbTableDict[dbTable.name];
    self.indexes[options.fieldName] = new local.nedb.Index(options);
    // With this implementation index creation is not necessary to ensure TTL
    // but we stick with MongoDB&#x27;s API here
    if (options.expireAfterSeconds !== undefined) {
        self.ttlIndexes[options.fieldName] = options.expireAfterSeconds;
    }
    self.indexes[options.fieldName].<span class="docApiCodeKeywordSpan">insert</span>(self.crudGetAllSync());
    // We may want to force all options to be persisted including defaults,
    // not just the ones passed the index creation function
    self.save();
    onError();
};

local.nedb.dbIndexRemove = function (dbTable, options, onError) {
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.Index.prototype.insertMultipleDocs" id="element.nedb-lite.Index.prototype.insertMultipleDocs">
            function <span class="docApiSignatureSpan">nedb-lite.Index.prototype.</span>insertMultipleDocs
            <span class="docApiSignatureSpan">(dbRowList)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">insertMultipleDocs = function (dbRowList){__cov_6b9bc1bc5a47f.f[&#x27;146&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1039&#x27;]++;var ii,error,failingI;__cov_6b9bc1bc5a47f.s[\
&#x27;1040&#x27;]++;for(ii=0;ii&lt;dbRowList.length;ii+=1){__cov_6b9bc1bc5a47f.s[&#x27;1041&#x27;]++;try{__cov_6b9bc1bc5a47f.s[&#x27;1042&#x27;]++;this.insert(db\
RowList[ii]);}catch(errorCaught){__cov_6b9bc1bc5a47f.s[&#x27;1043&#x27;]++;error=errorCaught;__cov_6b9bc1bc5a47f.s[&#x27;1044&#x27;]++;failingI=ii;_\
_cov_6b9bc1bc5a47f.s[&#x27;1045&#x27;]++;break;}}__cov_6b9bc1bc5a47f.s[&#x27;1046&#x27;]++;if(error){__cov_6b9bc1bc5a47f.b[&#x27;338&#x27;][0]++;__cov_6b9bc1b\
c5a47f.s[&#x27;1047&#x27;]++;for(ii=0;ii&lt;failingI;ii+=1){__cov_6b9bc1bc5a47f.s[&#x27;1048&#x27;]++;this.remove(dbRowList[ii]);}__cov_6b9bc1bc5a47f.s\
[&#x27;1049&#x27;]++;throw error;}else{__cov_6b9bc1bc5a47f.b[&#x27;338&#x27;][1]++;}}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
         * Insert a new dbRow in the index
         * If an array is passed, we insert all its elements (if one insertion fails the index is not modified)
         * O(log(n))
         */
var key, keys, ii, failingI, error, self = this;

if (Array.isArray(dbRow)) {
    self.<span class="docApiCodeKeywordSpan">insertMultipleDocs</span>(dbRow);
    return;
}

key = local.nedb.queryGetDotValue(dbRow, self.fieldName);

// We don&#x27;t index dbRow&#x27;s that don&#x27;t contain the field if the index is sparse
if (key === undefined &amp;&amp; self.sparse) {
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.Index.prototype.remove" id="element.nedb-lite.Index.prototype.remove">
            function <span class="docApiSignatureSpan">nedb-lite.Index.prototype.</span>remove
            <span class="docApiSignatureSpan">(dbRow)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">remove = function (dbRow){__cov_6b9bc1bc5a47f.f[&#x27;147&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1051&#x27;]++;var key,self=this;__cov_6b9bc1bc5a47f.s[&#x27;1052&#x27;]+\
+;if(Array.isArray(dbRow)){__cov_6b9bc1bc5a47f.b[&#x27;339&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1053&#x27;]++;dbRow.forEach(function(d){__cov_6b9\
bc1bc5a47f.f[&#x27;148&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1054&#x27;]++;self.remove(d);});__cov_6b9bc1bc5a47f.s[&#x27;1055&#x27;]++;return;}else{__cov_6b9bc\
1bc5a47f.b[&#x27;339&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1056&#x27;]++;key=local.nedb.queryGetDotValue(dbRow,self.fieldName);__cov_6b9bc1bc5a47\
f.s[&#x27;1057&#x27;]++;if((__cov_6b9bc1bc5a47f.b[&#x27;341&#x27;][0]++,key===undefined)&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;341&#x27;][1]++,self.sparse)){__cov_6b9\
bc1bc5a47f.b[&#x27;340&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1058&#x27;]++;return;}else{__cov_6b9bc1bc5a47f.b[&#x27;340&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;\
1059&#x27;]++;if(!Array.isArray(key)){__cov_6b9bc1bc5a47f.b[&#x27;342&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1060&#x27;]++;self.tree=self.tree.delete(ke\
y,dbRow);}else{__cov_6b9bc1bc5a47f.b[&#x27;342&#x27;][1]++;__cov_6b9bc1bc5a47f.s[&#x27;1061&#x27;]++;local.nedb.listUnique(key).map(projectForUnique\
).forEach(function(_key){__cov_6b9bc1bc5a47f.f[&#x27;149&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1062&#x27;]++;self.tree=self.tree.delete(_key,dbRow);}\
);}}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
            failingI = ii;
            break;
        }
    }

    if (error) {
        for (ii = 0; ii &lt; failingI; ii += 1) {
            this.<span class="docApiCodeKeywordSpan">remove</span>(dbRowList[ii]);
        }

        throw error;
    }
};
local.nedb.Index.prototype.remove = function (dbRow) {
/**
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.Index.prototype.reset" id="element.nedb-lite.Index.prototype.reset">
            function <span class="docApiSignatureSpan">nedb-lite.Index.prototype.</span>reset
            <span class="docApiSignatureSpan">(dbRowList)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">reset = function (dbRowList){__cov_6b9bc1bc5a47f.f[&#x27;144&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1008&#x27;]++;this.tree=new local.nedb.AvlTree({unique:thi\
s.unique});__cov_6b9bc1bc5a47f.s[&#x27;1009&#x27;]++;if(dbRowList){__cov_6b9bc1bc5a47f.b[&#x27;327&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1010&#x27;]++;this.\
insert(dbRowList);}else{__cov_6b9bc1bc5a47f.b[&#x27;327&#x27;][1]++;}}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    });
    Object.keys(options.dataById).forEach(function (k) {
        options.tdata.push(options.dataById[k]);
    });
    // Fill cached database (i.e. all indexes) with data
    Object.keys(self.indexes).forEach(function (key) {
        self.indexes[key] = new local.nedb.Index(self.indexes[key]);
        self.indexes[key].<span class="docApiCodeKeywordSpan">reset</span>(options.tdata);
    });
    self.save();
    options.onNext();
    break;
default:
    // validate no error occurred
    local.nedb.assert(!error, error);
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.Index.prototype.update" id="element.nedb-lite.Index.prototype.update">
            function <span class="docApiSignatureSpan">nedb-lite.Index.prototype.</span>update
            <span class="docApiSignatureSpan">(oldDoc,newDoc)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">update = function (oldDoc,newDoc){__cov_6b9bc1bc5a47f.f[&#x27;150&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1064&#x27;]++;if(Array.isArray(oldDoc)){__cov_6b9bc1bc\
5a47f.b[&#x27;343&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1065&#x27;]++;this.updateMultipleDocs(oldDoc);__cov_6b9bc1bc5a47f.s[&#x27;1066&#x27;]++;return;}else\
{__cov_6b9bc1bc5a47f.b[&#x27;343&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1067&#x27;]++;this.remove(oldDoc);__cov_6b9bc1bc5a47f.s[&#x27;1068&#x27;]++;try{__co\
v_6b9bc1bc5a47f.s[&#x27;1069&#x27;]++;this.insert(newDoc);}catch(errorCaught){__cov_6b9bc1bc5a47f.s[&#x27;1070&#x27;]++;this.insert(oldDoc);__cov_6b\
9bc1bc5a47f.s[&#x27;1071&#x27;]++;throw errorCaught;}}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
 * Update one or several dbRow&#x27;s in all indexes
 * To update multiple dbRow&#x27;s, oldDoc must be an array of { oldDoc, newDoc } pairs
 * If one update violates a constraint, all changes are rolled back
 */
    var ii, keys = Object.keys(this.indexes);

    for (ii = 0; ii &lt; keys.length; ii += 1) {
        this.indexes[keys[ii]].<span class="docApiCodeKeywordSpan">update</span>(oldDoc, newDoc);
    }
};

local.nedb._DbTable.prototype.getCandidates = function (query, onError) {
/**
 * Return the list of candidates for a given query
 * Crude implementation for now, we return the candidates given by the first usable index if any
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite.Index.prototype.updateMultipleDocs" id="element.nedb-lite.Index.prototype.updateMultipleDocs">
            function <span class="docApiSignatureSpan">nedb-lite.Index.prototype.</span>updateMultipleDocs
            <span class="docApiSignatureSpan">(pairs)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">updateMultipleDocs = function (pairs){__cov_6b9bc1bc5a47f.f[&#x27;151&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1073&#x27;]++;var ii,failingI,error;__cov_6b9bc1bc5a47f.s[&#x27;107\
4&#x27;]++;for(ii=0;ii&lt;pairs.length;ii+=1){__cov_6b9bc1bc5a47f.s[&#x27;1075&#x27;]++;this.remove(pairs[ii].oldDoc);}__cov_6b9bc1bc5a47f.s[&#x27;1076\
&#x27;]++;for(ii=0;ii&lt;pairs.length;ii+=1){__cov_6b9bc1bc5a47f.s[&#x27;1077&#x27;]++;try{__cov_6b9bc1bc5a47f.s[&#x27;1078&#x27;]++;this.insert(pairs[ii].n\
ewDoc);}catch(errorCaught){__cov_6b9bc1bc5a47f.s[&#x27;1079&#x27;]++;error=errorCaught;__cov_6b9bc1bc5a47f.s[&#x27;1080&#x27;]++;failingI=ii;__cov_6\
b9bc1bc5a47f.s[&#x27;1081&#x27;]++;break;}}__cov_6b9bc1bc5a47f.s[&#x27;1082&#x27;]++;if(error){__cov_6b9bc1bc5a47f.b[&#x27;344&#x27;][0]++;__cov_6b9bc1bc5a47f\
.s[&#x27;1083&#x27;]++;for(ii=0;ii&lt;failingI;ii+=1){__cov_6b9bc1bc5a47f.s[&#x27;1084&#x27;]++;this.remove(pairs[ii].newDoc);}__cov_6b9bc1bc5a47f.s[&#x27;1\
085&#x27;]++;for(ii=0;ii&lt;pairs.length;ii+=1){__cov_6b9bc1bc5a47f.s[&#x27;1086&#x27;]++;this.insert(pairs[ii].oldDoc);}__cov_6b9bc1bc5a47f.s[&#x27;10\
87&#x27;]++;throw error;}else{__cov_6b9bc1bc5a47f.b[&#x27;344&#x27;][1]++;}}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
        local.nedb.Index.prototype.update = function (oldDoc, newDoc) {
        /**
         * Update a dbRow in the index
         * If a constraint is violated, changes are rolled back and an error thrown
         * Naive implementation, still in O(log(n))
         */
if (Array.isArray(oldDoc)) {
    this.<span class="docApiCodeKeywordSpan">updateMultipleDocs</span>(oldDoc);
    return;
}

this.remove(oldDoc);

try {
    this.insert(newDoc);
...</pre></li>
        </ul>
        
        
    </div>
    
    <div class="docApiSectionDiv">
    <h1><a href="#module.nedb-lite._DbTable.prototype" id="module.nedb-lite._DbTable.prototype">module nedb-lite._DbTable.prototype</a></h1>
        
        
        <h2>
            <a href="#element.nedb-lite._DbTable.prototype.addToIndexes" id="element.nedb-lite._DbTable.prototype.addToIndexes">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>addToIndexes
            <span class="docApiSignatureSpan">(dbRow)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">addToIndexes = function (dbRow){__cov_6b9bc1bc5a47f.f[&#x27;201&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1330&#x27;]++;var ii,failingIndex,error,keys=Object.keys(this.\
indexes);__cov_6b9bc1bc5a47f.s[&#x27;1331&#x27;]++;for(ii=0;ii&lt;keys.length;ii+=1){__cov_6b9bc1bc5a47f.s[&#x27;1332&#x27;]++;try{__cov_6b9bc1bc5a47f.\
s[&#x27;1333&#x27;]++;this.indexes[keys[ii]].insert(dbRow);}catch(errorCaught){__cov_6b9bc1bc5a47f.s[&#x27;1334&#x27;]++;failingIndex=ii;__cov_6b9bc\
1bc5a47f.s[&#x27;1335&#x27;]++;error=errorCaught;__cov_6b9bc1bc5a47f.s[&#x27;1336&#x27;]++;break;}}__cov_6b9bc1bc5a47f.s[&#x27;1337&#x27;]++;if(error){__cov_6\
b9bc1bc5a47f.b[&#x27;387&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1338&#x27;]++;for(ii=0;ii&lt;failingIndex;ii+=1){__cov_6b9bc1bc5a47f.s[&#x27;1339&#x27;]++;this.\
indexes[keys[ii]].remove(dbRow);}__cov_6b9bc1bc5a47f.s[&#x27;1340&#x27;]++;throw error;}else{__cov_6b9bc1bc5a47f.b[&#x27;387&#x27;][1]++;}}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
/**
 * If newDoc is an array of dbRow&#x27;s, this will insert all dbRow&#x27;s in the cache
 * @api private
 */
    if (Array.isArray(preparedDoc)) {
        this._insertMultipleDocsInCache(preparedDoc);
    } else {
        this.<span class="docApiCodeKeywordSpan">addToIndexes</span>(preparedDoc);
    }
};

local.nedb._DbTable.prototype._insertMultipleDocsInCache = function (preparedDocs) {
/**
 * If one insertion fails (e.g. because of a unique constraint), roll back all previous
 * inserts and throws the error
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite._DbTable.prototype.crudCountMany" id="element.nedb-lite._DbTable.prototype.crudCountMany">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>crudCountMany
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">crudCountMany = function (options,onError){__cov_6b9bc1bc5a47f.f[&#x27;172&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1181&#x27;]++;var result,self;__cov_6b9bc1bc5a47f.s[\
&#x27;1182&#x27;]++;self=this;__cov_6b9bc1bc5a47f.s[&#x27;1183&#x27;]++;options=local.nedb.objectSetDefault({},options);__cov_6b9bc1bc5a47f.s[&#x27;1184&#x27;\
]++;options=local.nedb.objectSetDefault(options,{query:{}});__cov_6b9bc1bc5a47f.s[&#x27;1185&#x27;]++;local.nedb.onNext(options,function(e\
rror,data){__cov_6b9bc1bc5a47f.f[&#x27;173&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1186&#x27;]++;data=(__cov_6b9bc1bc5a47f.b[&#x27;368&#x27;][0]++,data)||(__cov_\
6b9bc1bc5a47f.b[&#x27;368&#x27;][1]++,[]);__cov_6b9bc1bc5a47f.s[&#x27;1187&#x27;]++;switch(options.modeNext){case 1:__cov_6b9bc1bc5a47f.b[&#x27;369&#x27;][0]+\
+;__cov_6b9bc1bc5a47f.s[&#x27;1188&#x27;]++;result=0;__cov_6b9bc1bc5a47f.s[&#x27;1189&#x27;]++;local.nedb.dbTableCreate(self,options.onNext);__cov_6\
b9bc1bc5a47f.s[&#x27;1190&#x27;]++;break;case 2:__cov_6b9bc1bc5a47f.b[&#x27;369&#x27;][1]++;__cov_6b9bc1bc5a47f.s[&#x27;1191&#x27;]++;self.getCandidates(optio\
ns.query,options.onNext);__cov_6b9bc1bc5a47f.s[&#x27;1192&#x27;]++;break;case 3:__cov_6b9bc1bc5a47f.b[&#x27;369&#x27;][2]++;__cov_6b9bc1bc5a47f.s[&#x27;1\
193&#x27;]++;data.forEach(function(dbRow){__cov_6b9bc1bc5a47f.f[&#x27;174&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1194&#x27;]++;if(local.nedb.queryMatch(dbR\
ow,options.query)){__cov_6b9bc1bc5a47f.b[&#x27;370&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1195&#x27;]++;result+=1;}else{__cov_6b9bc1bc5a47f.b[&#x27;370&#x27;\
][1]++;}});__cov_6b9bc1bc5a47f.s[&#x27;1196&#x27;]++;options.onNext();__cov_6b9bc1bc5a47f.s[&#x27;1197&#x27;]++;break;default:__cov_6b9bc1bc5a47f.b[\
&#x27;369&#x27;][3]++;__cov_6b9bc1bc5a47f.s[&#x27;1198&#x27;]++;onError(error,result);}});__cov_6b9bc1bc5a47f.s[&#x27;1199&#x27;]++;options.modeNext=0;__cov_6\
b9bc1bc5a47f.s[&#x27;1200&#x27;]++;options.onNext();}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
         */
options = local.crudOptionsSetDefault(options, {
    id: &#x27;testCase_dbTableCountMany_default&#x27;
});
local.utility2.onNext(options, function (error, data) {
    switch (options.modeNext) {
    case 1:
        options.dbTable.<span class="docApiCodeKeywordSpan">crudCountMany</span>({
            query: { id: options.id }
        }, options.onNext);
        break;
    case 2:
        // validate data
        local.utility2.assertJsonEqual(data, 1);
        options.onNext();
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite._DbTable.prototype.crudFindMany" id="element.nedb-lite._DbTable.prototype.crudFindMany">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>crudFindMany
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">crudFindMany = function (options,onError){__cov_6b9bc1bc5a47f.f[&#x27;178&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1209&#x27;]++;var limit,projection,result,self,skip,\
sort,tmp;__cov_6b9bc1bc5a47f.s[&#x27;1210&#x27;]++;self=this;__cov_6b9bc1bc5a47f.s[&#x27;1211&#x27;]++;options=local.nedb.objectSetDefault({},option\
s);__cov_6b9bc1bc5a47f.s[&#x27;1212&#x27;]++;options=local.nedb.objectSetDefault(options,{limit:Infinity,projection:{},query:{},skip:0,sor\
t:{}});__cov_6b9bc1bc5a47f.s[&#x27;1213&#x27;]++;local.nedb.onNext(options,function(error,data){__cov_6b9bc1bc5a47f.f[&#x27;179&#x27;]++;__cov_6b9bc\
1bc5a47f.s[&#x27;1214&#x27;]++;data=(__cov_6b9bc1bc5a47f.b[&#x27;371&#x27;][0]++,data)||(__cov_6b9bc1bc5a47f.b[&#x27;371&#x27;][1]++,[]);__cov_6b9bc1bc5a47f.s\
[&#x27;1215&#x27;]++;switch(options.modeNext){case 1:__cov_6b9bc1bc5a47f.b[&#x27;372&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1216&#x27;]++;result=[];__cov_6b9\
bc1bc5a47f.s[&#x27;1217&#x27;]++;self.getCandidates(options.query,options.onNext);__cov_6b9bc1bc5a47f.s[&#x27;1218&#x27;]++;break;case 2:__cov_6b9bc\
1bc5a47f.b[&#x27;372&#x27;][1]++;__cov_6b9bc1bc5a47f.s[&#x27;1219&#x27;]++;sort=Object.keys(options.sort).map(function(key){__cov_6b9bc1bc5a47f.f[&#x27;1\
80&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1220&#x27;]++;return{key:key,direction:options.sort[key]};});__cov_6b9bc1bc5a47f.s[&#x27;1221&#x27;]++;if(!sort.l\
ength){__cov_6b9bc1bc5a47f.b[&#x27;373&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1222&#x27;]++;limit=options.limit;__cov_6b9bc1bc5a47f.s[&#x27;1223&#x27;]++;ski\
p=options.skip;__cov_6b9bc1bc5a47f.s[&#x27;1224&#x27;]++;data.some(function(dbRow){__cov_6b9bc1bc5a47f.f[&#x27;181&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1\
225&#x27;]++;if(!local.nedb.queryMatch(dbRow,options.query)){__cov_6b9bc1bc5a47f.b[&#x27;374&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1226&#x27;]++;return\
;}else{__cov_6b9bc1bc5a47f.b[&#x27;374&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1227&#x27;]++;skip-=1;__cov_6b9bc1bc5a47f.s[&#x27;1228&#x27;]++;if(skip&gt;=0){__\
cov_6b9bc1bc5a47f.b[&#x27;375&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1229&#x27;]++;return;}else{__cov_6b9bc1bc5a47f.b[&#x27;375&#x27;][1]++;}__cov_6b9bc1bc5a\
47f.s[&#x27;1230&#x27;]++;result.push(dbRow);__cov_6b9bc1bc5a47f.s[&#x27;1231&#x27;]++;limit-=1;__cov_6b9bc1bc5a47f.s[&#x27;1232&#x27;]++;if(limit&lt;=0){__cov_6\
b9bc1bc5a47f.b[&#x27;376&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1233&#x27;]++;return true;}else{__cov_6b9bc1bc5a47f.b[&#x27;376&#x27;][1]++;}});__cov_6b9bc1b\
c5a47f.s[&#x27;1234&#x27;]++;options.onNext();__cov_6b9bc1bc5a47f.s[&#x27;1235&#x27;]++;return;}else{__cov_6b9bc1bc5a47f.b[&#x27;373&#x27;][1]++;}__cov_6b9bc1\
bc5a47f.s[&#x27;1236&#x27;]++;result=data;__cov_6b9bc1bc5a47f.s[&#x27;1237&#x27;]++;result=result.filter(function(dbRow){__cov_6b9bc1bc5a47f.f[&#x27;182&#x27;\
]++;__cov_6b9bc1bc5a47f.s[&#x27;1238&#x27;]++;return local.nedb.queryMatch(dbRow,options.query);});__cov_6b9bc1bc5a47f.s[&#x27;1239&#x27;]++;result=\
result.sort(function(aa,bb){__cov_6b9bc1bc5a47f.f[&#x27;183&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1240&#x27;]++;sort.some(function(element){__cov_6b9\
bc1bc5a47f.f[&#x27;184&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1241&#x27;]++;tmp=element.direction*local.nedb.sortCompare(local.nedb.queryGetDotValue(a\
a,element.key),local.nedb.queryGetDotValue(bb,element.key));__cov_6b9bc1bc5a47f.s[&#x27;1242&#x27;]++;return tmp;});__cov_6b9bc1bc5a47f.s[\
&#x27;1243&#x27;]++;return tmp;});__cov_6b9bc1bc5a47f.s[&#x27;1244&#x27;]++;result=result.slice(options.skip,options.skip+options.limit);__cov_6b9bc\
1bc5a47f.s[&#x27;1245&#x27;]++;options.onNext();__cov_6b9bc1bc5a47f.s[&#x27;1246&#x27;]++;break;case 4:__cov_6b9bc1bc5a47f.b[&#x27;372&#x27;][2]++;__cov_6b9bc\
1bc5a47f.s[&#x27;1247&#x27;]++;projection=Object.keys(options.projection);__cov_6b9bc1bc5a47f.s[&#x27;1248&#x27;]++;if(!projection.list){__cov_6b9bc\
1bc5a47f.b[&#x27;377&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1249&#x27;]++;options.onNext();__cov_6b9bc1bc5a47f.s[&#x27;1250&#x27;]++;return;}else{__cov_6b9bc\
1bc5a47f.b[&#x27;377&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1251&#x27;]++;if(options.projection[projection.list[0]]===1){__cov_6b9bc1bc5a47f.b[&#x27;37\
8&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1252&#x27;]++;result=result.map(function(dbRow){__cov_6b9bc1bc5a47f.f[&#x27;185&#x27;]++;__cov_6b9bc1bc5a47f.s[\
&#x27;1253&#x27;]++;tmp={};__cov_6b9bc1bc5a47f.s[&#x27;1254&#x27;]++;projection.forEach(function(key){__cov_6b9bc1bc5a47f.f[&#x27;186&#x27;]++;__cov_6b9bc1bc5\
a47f.s[&#x27;1255&#x27;]++;tmp[key]=dbRow[key];});__cov_6b9bc1bc5a47f.s[&#x27;1256&#x27;]++;return tmp;});}else{__cov_6b9bc1bc5a47f.b[&#x27;378&#x27;][1]++;__\
cov_6b9bc1bc5a47f.s[&#x27;1257&#x27;]++;result=result.map(function(dbRow){__cov_6b9bc1bc5a47f.f[&#x27;187&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1258&#x27;]++;t\
mp={};__cov_6b9bc1bc5a47f.s[&#x27;1259&#x27;]++;Object.keys(dbRow).forEach(f ...</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    options.onNext();
};

local.nedb._DbTable.prototype.crudFindOne = function (options, onError) {
/**
 * this function will find one dbRow in dbTable with the given options
 */
    this.<span class="docApiCodeKeywordSpan">crudFindMany</span>({
        limit: 1,
        query: options.query
    }, function (error, data) {
        onError(error, data[0] || null);
    });
};
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite._DbTable.prototype.crudFindOne" id="element.nedb-lite._DbTable.prototype.crudFindOne">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>crudFindOne
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">crudFindOne = function (options,onError){__cov_6b9bc1bc5a47f.f[&#x27;189&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1269&#x27;]++;this.crudFindMany({limit:1,query:optio\
ns.query},function(error,data){__cov_6b9bc1bc5a47f.f[&#x27;190&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1270&#x27;]++;onError(error,(__cov_6b9bc1bc5a47f\
.b[&#x27;380&#x27;][0]++,data[0])||(__cov_6b9bc1bc5a47f.b[&#x27;380&#x27;][1]++,null));});}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
         */
options = local.crudOptionsSetDefault(options, {
    id: &#x27;testCase_dbTableFindOne_default&#x27;
});
local.utility2.onNext(options, function (error, data) {
    switch (options.modeNext) {
    case 1:
        options.dbTable.<span class="docApiCodeKeywordSpan">crudFindOne</span>({
            query: { id: options.id }
        }, options.onNext);
        break;
    case 2:
        // validate data
        local.utility2.assertJsonEqual(data &amp;&amp; data.id, options.id);
        options.onNext();
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite._DbTable.prototype.crudGetAllSync" id="element.nedb-lite._DbTable.prototype.crudGetAllSync">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>crudGetAllSync
            <span class="docApiSignatureSpan">()</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">crudGetAllSync = function (){__cov_6b9bc1bc5a47f.f[&#x27;175&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1202&#x27;]++;var result;__cov_6b9bc1bc5a47f.s[&#x27;1203&#x27;]++;result=[];\
__cov_6b9bc1bc5a47f.s[&#x27;1204&#x27;]++;this.indexes._id.tree.executeOnEveryNode(function(node){__cov_6b9bc1bc5a47f.f[&#x27;176&#x27;]++;__cov_6b9\
bc1bc5a47f.s[&#x27;1205&#x27;]++;node.data.forEach(function(dbRow){__cov_6b9bc1bc5a47f.f[&#x27;177&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1206&#x27;]++;result.p\
ush(dbRow);});});__cov_6b9bc1bc5a47f.s[&#x27;1207&#x27;]++;return result;}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    self = local.nedb.dbTableDict[dbTable.name];
    self.indexes[options.fieldName] = new local.nedb.Index(options);
    // With this implementation index creation is not necessary to ensure TTL
    // but we stick with MongoDB&#x27;s API here
    if (options.expireAfterSeconds !== undefined) {
        self.ttlIndexes[options.fieldName] = options.expireAfterSeconds;
    }
    self.indexes[options.fieldName].insert(self.<span class="docApiCodeKeywordSpan">crudGetAllSync</span>());
    // We may want to force all options to be persisted including defaults,
    // not just the ones passed the index creation function
    self.save();
    onError();
};

local.nedb.dbIndexRemove = function (dbTable, options, onError) {
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite._DbTable.prototype.crudInsert" id="element.nedb-lite._DbTable.prototype.crudInsert">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>crudInsert
            <span class="docApiSignatureSpan">(newDoc,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">crudInsert = function (newDoc,onError){__cov_6b9bc1bc5a47f.f[&#x27;216&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1397&#x27;]++;var self,preparedDoc;__cov_6b9bc1bc5a47\
f.s[&#x27;1398&#x27;]++;self=this;__cov_6b9bc1bc5a47f.s[&#x27;1399&#x27;]++;preparedDoc=self.prepareDocumentForInsertion(newDoc);__cov_6b9bc1bc5a47f\
.s[&#x27;1400&#x27;]++;self._insertInCache(preparedDoc);__cov_6b9bc1bc5a47f.s[&#x27;1401&#x27;]++;setTimeout(function(){__cov_6b9bc1bc5a47f.f[&#x27;217&#x27;]\
++;__cov_6b9bc1bc5a47f.s[&#x27;1402&#x27;]++;self.save();__cov_6b9bc1bc5a47f.s[&#x27;1403&#x27;]++;onError(null,local.nedb.jsonCopy(preparedDoc));},\
10);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    &lt;a\n\
        href=&quot;https://kaizhu256.github.io/node-nedb-lite/build/doc.api.html&quot;\n\
        target=&quot;_blank&quot;\n\
    &gt;eval&lt;/a&gt;\n\
&lt;/label&gt;\n\
&lt;textarea id=&quot;inputTextarea1&quot;&gt;\n\
window.table1 = window.nedb_lite.dbTableCreate({ name: &quot;table1&quot; });\n\
table1.<span class="docApiCodeKeywordSpan">crudInsert</span>({ field1: &quot;hello&quot;, field2: &quot;world&quot;}, function (\
) {\n\
console.log();\n\
console.log(table1.export());\n\
});\n\
\n\
window.table2 = window.nedb_lite.dbTableCreate({ name: &quot;table2&quot; });\n\
table2.crudInsert({ field1: &quot;hello&quot;, field2: &quot;world&quot;}, function () {\n\
console.log();\n\
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite._DbTable.prototype.crudRemoveMany" id="element.nedb-lite._DbTable.prototype.crudRemoveMany">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>crudRemoveMany
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">crudRemoveMany = function (options,onError){__cov_6b9bc1bc5a47f.f[&#x27;191&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1272&#x27;]++;var removedList,result,self;__cov_6b9b\
c1bc5a47f.s[&#x27;1273&#x27;]++;self=this;__cov_6b9bc1bc5a47f.s[&#x27;1274&#x27;]++;options=local.nedb.objectSetDefault({},options);__cov_6b9bc1bc5a\
47f.s[&#x27;1275&#x27;]++;options=local.nedb.objectSetDefault(options,{one:null,query:{}});__cov_6b9bc1bc5a47f.s[&#x27;1276&#x27;]++;local.nedb.onNe\
xt(options,function(error,data){__cov_6b9bc1bc5a47f.f[&#x27;192&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1277&#x27;]++;data=(__cov_6b9bc1bc5a47f.b[&#x27;381&#x27;\
][0]++,data)||(__cov_6b9bc1bc5a47f.b[&#x27;381&#x27;][1]++,[]);__cov_6b9bc1bc5a47f.s[&#x27;1278&#x27;]++;switch(options.modeNext){case 1:__cov_6b9bc\
1bc5a47f.b[&#x27;382&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1279&#x27;]++;removedList=[];__cov_6b9bc1bc5a47f.s[&#x27;1280&#x27;]++;result=0;__cov_6b9bc1bc5a4\
7f.s[&#x27;1281&#x27;]++;self.getCandidates(options.query,options.onNext);__cov_6b9bc1bc5a47f.s[&#x27;1282&#x27;]++;break;case 2:__cov_6b9bc1bc5a47f\
.b[&#x27;382&#x27;][1]++;__cov_6b9bc1bc5a47f.s[&#x27;1283&#x27;]++;data.some(function(dbRow){__cov_6b9bc1bc5a47f.f[&#x27;193&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1\
284&#x27;]++;if(local.nedb.queryMatch(dbRow,options.query)){__cov_6b9bc1bc5a47f.b[&#x27;383&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1285&#x27;]++;result+\
=1;__cov_6b9bc1bc5a47f.s[&#x27;1286&#x27;]++;removedList.push({$$deleted:true,_id:dbRow._id});__cov_6b9bc1bc5a47f.s[&#x27;1287&#x27;]++;self.removeF\
romIndexes(dbRow);__cov_6b9bc1bc5a47f.s[&#x27;1288&#x27;]++;if(options.one){__cov_6b9bc1bc5a47f.b[&#x27;384&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1289&#x27;\
]++;return true;}else{__cov_6b9bc1bc5a47f.b[&#x27;384&#x27;][1]++;}}else{__cov_6b9bc1bc5a47f.b[&#x27;383&#x27;][1]++;}});__cov_6b9bc1bc5a47f.s[&#x27;1290\
&#x27;]++;self.save();__cov_6b9bc1bc5a47f.s[&#x27;1291&#x27;]++;options.onNext();__cov_6b9bc1bc5a47f.s[&#x27;1292&#x27;]++;break;default:__cov_6b9bc1bc5a\
47f.b[&#x27;382&#x27;][2]++;__cov_6b9bc1bc5a47f.s[&#x27;1293&#x27;]++;onError(error,result);}});__cov_6b9bc1bc5a47f.s[&#x27;1294&#x27;]++;options.modeNext=0;_\
_cov_6b9bc1bc5a47f.s[&#x27;1295&#x27;]++;options.onNext();}</pre></li>
        <li>example usage<pre class="docApiCodePre">...

local.nedb._DbTable.prototype.crudRemoveOne = function (options, onError) {
/*
 * this function will remove one dbRow in dbTable with the given options
 */
    options = local.nedb.objectSetDefault({}, options);
    options = local.nedb.objectSetDefault(options, { one: true });
    this.<span class="docApiCodeKeywordSpan">crudRemoveMany</span>(options, onError);
};

local.nedb._DbTable.prototype.drop = function (onError) {
/*
 * this function will drop dbTable
 */
    var onParallel, self;
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite._DbTable.prototype.crudRemoveOne" id="element.nedb-lite._DbTable.prototype.crudRemoveOne">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>crudRemoveOne
            <span class="docApiSignatureSpan">(options,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">crudRemoveOne = function (options,onError){__cov_6b9bc1bc5a47f.f[&#x27;194&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1297&#x27;]++;options=local.nedb.objectSetDefault({}\
,options);__cov_6b9bc1bc5a47f.s[&#x27;1298&#x27;]++;options=local.nedb.objectSetDefault(options,{one:true});__cov_6b9bc1bc5a47f.s[&#x27;1299&#x27;]+\
+;this.crudRemoveMany(options,onError);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
});
local.utility2.onNext(options, function (error, data) {
    switch (options.modeNext) {
    case 1:
        local.testCase_dbTableFindOne_default(options, options.onNext);
        break;
    case 2:
        options.dbTable.<span class="docApiCodeKeywordSpan">crudRemoveOne</span>({
            query: { id: options.id }
        }, options.onNext);
        break;
    case 3:
        options.dbTable.crudFindOne({
            query: { id: options.id }
        }, options.onNext);
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite._DbTable.prototype.crudUpdate" id="element.nedb-lite._DbTable.prototype.crudUpdate">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>crudUpdate
            <span class="docApiSignatureSpan">(query,updateQuery,options,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">crudUpdate = function (query,updateQuery,options,onError){__cov_6b9bc1bc5a47f.f[&#x27;222&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1435&#x27;]++;var self=this,numRep\
laced=0,multi,upsert,ii;__cov_6b9bc1bc5a47f.s[&#x27;1436&#x27;]++;multi=options.multi!==undefined?(__cov_6b9bc1bc5a47f.b[&#x27;406&#x27;][0]++,optio\
ns.multi):(__cov_6b9bc1bc5a47f.b[&#x27;406&#x27;][1]++,false);__cov_6b9bc1bc5a47f.s[&#x27;1437&#x27;]++;upsert=options.upsert!==undefined?(__cov_6b9\
bc1bc5a47f.b[&#x27;407&#x27;][0]++,options.upsert):(__cov_6b9bc1bc5a47f.b[&#x27;407&#x27;][1]++,false);__cov_6b9bc1bc5a47f.s[&#x27;1438&#x27;]++;options={};__\
cov_6b9bc1bc5a47f.s[&#x27;1439&#x27;]++;local.nedb.onNext(options,function(){__cov_6b9bc1bc5a47f.f[&#x27;223&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1440&#x27;]+\
+;var cursor,modifiedDoc,modifications,createdAt;__cov_6b9bc1bc5a47f.s[&#x27;1441&#x27;]++;switch(options.modeNext){case 1:__cov_6b9bc1bc5\
a47f.b[&#x27;408&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1442&#x27;]++;if(!upsert){__cov_6b9bc1bc5a47f.b[&#x27;409&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1443&#x27;]++\
;return options.onNext();}else{__cov_6b9bc1bc5a47f.b[&#x27;409&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1444&#x27;]++;cursor=new local.nedb.Cursor(s\
elf,query);__cov_6b9bc1bc5a47f.s[&#x27;1445&#x27;]++;cursor.limit(1)._exec(function(error,docs){__cov_6b9bc1bc5a47f.f[&#x27;224&#x27;]++;__cov_6b9bc\
1bc5a47f.s[&#x27;1446&#x27;]++;if(error){__cov_6b9bc1bc5a47f.b[&#x27;410&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1447&#x27;]++;return onError(error);}else{__c\
ov_6b9bc1bc5a47f.b[&#x27;410&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1448&#x27;]++;if(docs.length===1){__cov_6b9bc1bc5a47f.b[&#x27;411&#x27;][0]++;__cov_6b9b\
c1bc5a47f.s[&#x27;1449&#x27;]++;return options.onNext();}else{__cov_6b9bc1bc5a47f.b[&#x27;411&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1450&#x27;]++;var toBeI\
nserted;__cov_6b9bc1bc5a47f.s[&#x27;1451&#x27;]++;try{__cov_6b9bc1bc5a47f.s[&#x27;1452&#x27;]++;local.nedb.dbRowCheckObject(updateQuery);__cov_6b9bc\
1bc5a47f.s[&#x27;1453&#x27;]++;toBeInserted=updateQuery;}catch(errorCaught){__cov_6b9bc1bc5a47f.s[&#x27;1454&#x27;]++;try{__cov_6b9bc1bc5a47f.s[&#x27;145\
5&#x27;]++;toBeInserted=local.nedb.dbRowModify(local.nedb.dbRowDeepCopy(query,true),updateQuery);}catch(errorCaught2){__cov_6b9bc1bc5\
a47f.s[&#x27;1456&#x27;]++;return onError(errorCaught2);}}__cov_6b9bc1bc5a47f.s[&#x27;1457&#x27;]++;return self.crudInsert(toBeInserted,function(err\
or,newDoc){__cov_6b9bc1bc5a47f.f[&#x27;225&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1458&#x27;]++;if(error){__cov_6b9bc1bc5a47f.b[&#x27;412&#x27;][0]++;__cov_6b9b\
c1bc5a47f.s[&#x27;1459&#x27;]++;return onError(error);}else{__cov_6b9bc1bc5a47f.b[&#x27;412&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1460&#x27;]++;return onEr\
ror(null,1,newDoc,true);});});__cov_6b9bc1bc5a47f.s[&#x27;1461&#x27;]++;break;default:__cov_6b9bc1bc5a47f.b[&#x27;408&#x27;][1]++;__cov_6b9bc1bc5a47\
f.s[&#x27;1462&#x27;]++;modifications=[];__cov_6b9bc1bc5a47f.s[&#x27;1463&#x27;]++;self.getCandidates(query,function(error,candidates){__cov_6b9bc1b\
c5a47f.f[&#x27;226&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1464&#x27;]++;if(error){__cov_6b9bc1bc5a47f.b[&#x27;413&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1465&#x27;]++;re\
turn onError(error);}else{__cov_6b9bc1bc5a47f.b[&#x27;413&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1466&#x27;]++;try{__cov_6b9bc1bc5a47f.s[&#x27;1467&#x27;]++\
;for(ii=0;ii&lt;candidates.length;ii+=1){__cov_6b9bc1bc5a47f.s[&#x27;1468&#x27;]++;if((__cov_6b9bc1bc5a47f.b[&#x27;415&#x27;][0]++,local.nedb.queryMatc\
h(candidates[ii],query))&amp;&amp;((__cov_6b9bc1bc5a47f.b[&#x27;415&#x27;][1]++,multi)||(__cov_6b9bc1bc5a47f.b[&#x27;415&#x27;][2]++,numReplaced===0))){__co\
v_6b9bc1bc5a47f.b[&#x27;414&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1469&#x27;]++;numReplaced+=1;__cov_6b9bc1bc5a47f.s[&#x27;1470&#x27;]++;createdAt=candidate\
s[ii].createdAt;__cov_6b9bc1bc5a47f.s[&#x27;1471&#x27;]++;modifiedDoc=local.nedb.dbRowModify(candidates[ii],updateQuery);__cov_6b9bc1bc5a4\
7f.s[&#x27;1472&#x27;]++;modifiedDoc.createdAt=createdAt;__cov_6b9bc1bc5a47f.s[&#x27;1473&#x27;]++;modifiedDoc.updatedAt=new Date().toISOString();__\
cov_6b9bc1bc5a47f.s[&#x27;1474&#x27;]++;modifications.push({oldDoc:candidates[ii],newDoc:modifiedDoc});}else{__cov_6b9bc1bc5a47f.b[&#x27;414&#x27;][\
1]++;}}}catch(errorCaught){__cov_6b9bc1bc5a47f.s[&#x27;1475&#x27;]++;return onError(errorCaught);}__cov_6b9bc1bc5a47f.s[&#x27;1476&#x27;]++;try{__co\
v_6b9bc1bc5a47f.s[&#x27;1477&#x27;]++;self.updateIndexes(modifications);}catch(errorCaught){__cov_6b9bc1bc5a47f.s[&#x27;1478&#x27;]++;return onError\
(errorCaught);}__cov_6b9bc1bc5a47f.s[&#x27;1479&#x27;]++;var updatedDocs,updatedDocsDC;__cov_6b9bc1bc5a47f.s[&#x27;1480&#x27;]++;updatedDocs=modific\
ations.map(function(element){__cov_6b9bc1bc5a47f.f[&#x27;227&#x27;]++;__cov_ ...</pre></li>
        <li>example usage<pre class="docApiCodePre">n/a</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite._DbTable.prototype.drop" id="element.nedb-lite._DbTable.prototype.drop">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>drop
            <span class="docApiSignatureSpan">(onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">drop = function (onError){__cov_6b9bc1bc5a47f.f[&#x27;195&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1301&#x27;]++;var onParallel,self;__cov_6b9bc1bc5a47f.s[&#x27;130\
2&#x27;]++;self=this;__cov_6b9bc1bc5a47f.s[&#x27;1303&#x27;]++;onParallel=local.nedb.onParallel(onError);__cov_6b9bc1bc5a47f.s[&#x27;1304&#x27;]++;onPara\
llel.counter+=1;__cov_6b9bc1bc5a47f.s[&#x27;1305&#x27;]++;self.crudRemoveMany({},onParallel);__cov_6b9bc1bc5a47f.s[&#x27;1306&#x27;]++;onParallel.co\
unter+=1;__cov_6b9bc1bc5a47f.s[&#x27;1307&#x27;]++;local.nedb.dbStorageRemoveItem(self.name,onParallel);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    var onParallel;
    onParallel = local.utility2.onParallel(onError);
    onParallel.counter += 1;
    options = {};
    options.name = &#x27;testCase_dbTableDrop_default&#x27;;
    options.dbTable = local.nedb.dbTableCreate(options);
    onParallel.counter += 1;
    options.dbTable.<span class="docApiCodeKeywordSpan">drop</span>(onParallel);
    // test multiple-drop handling-behavior
    onParallel.counter += 1;
    options.dbTable.drop(onParallel);
    onParallel();
};

local.testCase_dbTableFindOne_default = function (options, onError) {
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite._DbTable.prototype.export" id="element.nedb-lite._DbTable.prototype.export">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>export
            <span class="docApiSignatureSpan">()</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">export = function (){__cov_6b9bc1bc5a47f.f[&#x27;196&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1309&#x27;]++;var data,self;__cov_6b9bc1bc5a47f.s[&#x27;1310&#x27;]++;self=th\
is;__cov_6b9bc1bc5a47f.s[&#x27;1311&#x27;]++;data=&#x27;&#x27;;__cov_6b9bc1bc5a47f.s[&#x27;1312&#x27;]++;data+=JSON.stringify(String(self.name))+&#x27;\n&#x27;;__cov_6b\
9bc1bc5a47f.s[&#x27;1313&#x27;]++;self.crudGetAllSync().forEach(function(dbRow){__cov_6b9bc1bc5a47f.f[&#x27;197&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1314\
&#x27;]++;data+=JSON.stringify(dbRow)+&#x27;\n&#x27;;});__cov_6b9bc1bc5a47f.s[&#x27;1315&#x27;]++;Object.keys(self.indexes).forEach(function(fieldName){_\
_cov_6b9bc1bc5a47f.f[&#x27;198&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1316&#x27;]++;if(fieldName===&#x27;_id&#x27;){__cov_6b9bc1bc5a47f.b[&#x27;385&#x27;][0]++;__cov_6b9b\
c1bc5a47f.s[&#x27;1317&#x27;]++;return;}else{__cov_6b9bc1bc5a47f.b[&#x27;385&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1318&#x27;]++;data+=JSON.stringify({$$in\
dexCreated:{fieldName:fieldName,isInteger:self.indexes[fieldName].isInteger,unique:self.indexes[fieldName].unique,sparse:self.in\
dexes[fieldName].sparse}})+&#x27;\n&#x27;;});__cov_6b9bc1bc5a47f.s[&#x27;1319&#x27;]++;return data.slice(0,-1);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
            target=&quot;_blank&quot;\n\
        &gt;eval&lt;/a&gt;\n\
    &lt;/label&gt;\n\
&lt;textarea id=&quot;inputTextarea1&quot;&gt;\n\
window.table1 = window.nedb_lite.dbTableCreate({ name: &quot;table1&quot; });\n\
table1.crudInsert({ field1: &quot;hello&quot;, field2: &quot;world&quot;}, function () {\n\
    console.log();\n\
    console.log(table1.<span class="docApiCodeKeywordSpan">export</span>());\n\
});\n\
\n\
window.table2 = window.nedb_lite.dbTableCreate({ name: &quot;table2&quot; });\n\
table2.crudInsert({ field1: &quot;hello&quot;, field2: &quot;world&quot;}, function () {\n\
    console.log();\n\
    console.log(table2.export());\n\
});\n\
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite._DbTable.prototype.getCandidates" id="element.nedb-lite._DbTable.prototype.getCandidates">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>getCandidates
            <span class="docApiSignatureSpan">(query,onError)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">getCandidates = function (query,onError){__cov_6b9bc1bc5a47f.f[&#x27;205&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1350&#x27;]++;var self=this,onParallel,options,usableQ\
ueryKeys;__cov_6b9bc1bc5a47f.s[&#x27;1351&#x27;]++;options={};__cov_6b9bc1bc5a47f.s[&#x27;1352&#x27;]++;local.nedb.onNext(options,function(error,dat\
a){__cov_6b9bc1bc5a47f.f[&#x27;206&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1353&#x27;]++;local.nedb.nop(error);__cov_6b9bc1bc5a47f.s[&#x27;1354&#x27;]++;switch(o\
ptions.modeNext){case 1:__cov_6b9bc1bc5a47f.b[&#x27;388&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1355&#x27;]++;usableQueryKeys=[];__cov_6b9bc1bc5a47f\
.s[&#x27;1356&#x27;]++;Object.keys(query).forEach(function(k){__cov_6b9bc1bc5a47f.f[&#x27;207&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1357&#x27;]++;if((__cov_6b9\
bc1bc5a47f.b[&#x27;390&#x27;][0]++,typeof query[k]===&#x27;string&#x27;)||(__cov_6b9bc1bc5a47f.b[&#x27;390&#x27;][1]++,typeof query[k]===&#x27;number&#x27;)||(__cov_6b9\
bc1bc5a47f.b[&#x27;390&#x27;][2]++,typeof query[k]===&#x27;boolean&#x27;)||(__cov_6b9bc1bc5a47f.b[&#x27;390&#x27;][3]++,query[k]===null)){__cov_6b9bc1bc5a47f.\
b[&#x27;389&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1358&#x27;]++;usableQueryKeys.push(k);}else{__cov_6b9bc1bc5a47f.b[&#x27;389&#x27;][1]++;}});__cov_6b9bc1bc\
5a47f.s[&#x27;1359&#x27;]++;usableQueryKeys=usableQueryKeys.filter(function(element){__cov_6b9bc1bc5a47f.f[&#x27;208&#x27;]++;__cov_6b9bc1bc5a47f.s[\
&#x27;1360&#x27;]++;return self.indexes.hasOwnProperty(element);});__cov_6b9bc1bc5a47f.s[&#x27;1361&#x27;]++;if(usableQueryKeys.length&gt;0){__cov_6b9b\
c1bc5a47f.b[&#x27;391&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1362&#x27;]++;return options.onNext(null,self.indexes[usableQueryKeys[0]].getMatching(\
query[usableQueryKeys[0]]));}else{__cov_6b9bc1bc5a47f.b[&#x27;391&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1363&#x27;]++;usableQueryKeys=[];__cov_6b\
9bc1bc5a47f.s[&#x27;1364&#x27;]++;Object.keys(query).forEach(function(k){__cov_6b9bc1bc5a47f.f[&#x27;209&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1365&#x27;]++;if\
((__cov_6b9bc1bc5a47f.b[&#x27;393&#x27;][0]++,query[k])&amp;&amp;(__cov_6b9bc1bc5a47f.b[&#x27;393&#x27;][1]++,query[k].hasOwnProperty(&#x27;$in&#x27;))){__cov_6b9bc1b\
c5a47f.b[&#x27;392&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1366&#x27;]++;usableQueryKeys.push(k);}else{__cov_6b9bc1bc5a47f.b[&#x27;392&#x27;][1]++;}});__cov_6\
b9bc1bc5a47f.s[&#x27;1367&#x27;]++;usableQueryKeys=usableQueryKeys.filter(function(element){__cov_6b9bc1bc5a47f.f[&#x27;210&#x27;]++;__cov_6b9bc1bc5\
a47f.s[&#x27;1368&#x27;]++;return self.indexes.hasOwnProperty(element);});__cov_6b9bc1bc5a47f.s[&#x27;1369&#x27;]++;if(usableQueryKeys.length&gt;0){__c\
ov_6b9bc1bc5a47f.b[&#x27;394&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1370&#x27;]++;return options.onNext(null,self.indexes[usableQueryKeys[0]].getMa\
tching(query[usableQueryKeys[0]].$in));}else{__cov_6b9bc1bc5a47f.b[&#x27;394&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1371&#x27;]++;usableQueryKeys=\
[];__cov_6b9bc1bc5a47f.s[&#x27;1372&#x27;]++;Object.keys(query).forEach(function(k){__cov_6b9bc1bc5a47f.f[&#x27;211&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;\
1373&#x27;]++;if((__cov_6b9bc1bc5a47f.b[&#x27;396&#x27;][0]++,query[k])&amp;&amp;((__cov_6b9bc1bc5a47f.b[&#x27;396&#x27;][1]++,query[k].hasOwnProperty(&#x27;$lt&#x27;))||(\
__cov_6b9bc1bc5a47f.b[&#x27;396&#x27;][2]++,query[k].hasOwnProperty(&#x27;$lte&#x27;))||(__cov_6b9bc1bc5a47f.b[&#x27;396&#x27;][3]++,query[k].hasOwnProperty(&#x27;\
$gt&#x27;))||(__cov_6b9bc1bc5a47f.b[&#x27;396&#x27;][4]++,query[k].hasOwnProperty(&#x27;$gte&#x27;)))){__cov_6b9bc1bc5a47f.b[&#x27;395&#x27;][0]++;__cov_6b9bc1bc5a\
47f.s[&#x27;1374&#x27;]++;usableQueryKeys.push(k);}else{__cov_6b9bc1bc5a47f.b[&#x27;395&#x27;][1]++;}});__cov_6b9bc1bc5a47f.s[&#x27;1375&#x27;]++;usableQueryK\
eys=usableQueryKeys.filter(function(element){__cov_6b9bc1bc5a47f.f[&#x27;212&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1376&#x27;]++;return self.indexes.\
hasOwnProperty(element);});__cov_6b9bc1bc5a47f.s[&#x27;1377&#x27;]++;if(usableQueryKeys.length&gt;0){__cov_6b9bc1bc5a47f.b[&#x27;397&#x27;][0]++;__cov_\
6b9bc1bc5a47f.s[&#x27;1378&#x27;]++;return options.onNext(null,self.indexes[usableQueryKeys[0]].getBetweenBounds(query[usableQueryKeys[0]]\
));}else{__cov_6b9bc1bc5a47f.b[&#x27;397&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1379&#x27;]++;return options.onNext(null,self.crudGetAllSync());de\
fault:__cov_6b9bc1bc5a47f.b[&#x27;388&#x27;][1]++;__cov_6b9bc1bc5a47f.s[&#x27;1380&#x27;]++;var validDocs=[],ttlIndexesFieldNames=Object.keys(self.t\
tlIndexes);__cov_6b9bc1bc5a47f.s[&#x27;1381&#x27;]++;onParallel=local.nedb.onParallel(function(error){__cov_6b9bc1bc5a47f.f[&#x27;213&#x27;]++;__cov\
_6b9bc1bc5a47f.s[&#x27;1382&#x27;]++;onError(error,validDocs);});__cov_6b9bc1bc5a47f.s[&#x27;1383&#x27;]++;onParallel.counter+=1;__cov_6b9bc1bc5a47f\
.s[&#x27;1384&#x27;]++;data.forEach(function(dbRow){__cov_6b9bc1bc5a47f.f[&#x27;2 ...</pre></li>
        <li>example usage<pre class="docApiCodePre">...
            function onError(error) {
if (self.onError) {
    return self.onError(error, res, _onError);
}
return _onError(error, res);
            }

            self.db.<span class="docApiCodeKeywordSpan">getCandidates</span>(self.query, function (error, candidates) {
var criteria, limit, skip;
if (error) {
    return onError(error);
}

try {
    candidates.some(function (element) {
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite._DbTable.prototype.prepareDocumentForInsertion" id="element.nedb-lite._DbTable.prototype.prepareDocumentForInsertion">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>prepareDocumentForInsertion
            <span class="docApiSignatureSpan">(newDoc)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">prepareDocumentForInsertion = function (newDoc){__cov_6b9bc1bc5a47f.f[&#x27;218&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1405&#x27;]++;var preparedDoc,now,self=this;__cov_6b9bc1bc5a4\
7f.s[&#x27;1406&#x27;]++;if(Array.isArray(newDoc)){__cov_6b9bc1bc5a47f.b[&#x27;401&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1407&#x27;]++;preparedDoc=[];__cov_\
6b9bc1bc5a47f.s[&#x27;1408&#x27;]++;newDoc.forEach(function(dbRow){__cov_6b9bc1bc5a47f.f[&#x27;219&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1409&#x27;]++;prepared\
Doc.push(self.prepareDocumentForInsertion(dbRow));});}else{__cov_6b9bc1bc5a47f.b[&#x27;401&#x27;][1]++;__cov_6b9bc1bc5a47f.s[&#x27;1410&#x27;]++;pre\
paredDoc=local.nedb.jsonCopy(newDoc);__cov_6b9bc1bc5a47f.s[&#x27;1411&#x27;]++;now=new Date().toISOString();__cov_6b9bc1bc5a47f.s[&#x27;1412&#x27;]+\
+;if(preparedDoc.createdAt===undefined){__cov_6b9bc1bc5a47f.b[&#x27;402&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1413&#x27;]++;preparedDoc.createdAt=\
now;}else{__cov_6b9bc1bc5a47f.b[&#x27;402&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1414&#x27;]++;if(preparedDoc.updatedAt===undefined){__cov_6b9bc1b\
c5a47f.b[&#x27;403&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1415&#x27;]++;preparedDoc.updatedAt=now;}else{__cov_6b9bc1bc5a47f.b[&#x27;403&#x27;][1]++;}__cov_6b\
9bc1bc5a47f.s[&#x27;1416&#x27;]++;local.nedb.dbRowCheckObject(preparedDoc);}__cov_6b9bc1bc5a47f.s[&#x27;1417&#x27;]++;return preparedDoc;}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
 * Insert a new dbRow
 * @param {Function} onError - callback, signature: error, insertedDoc
 *
 * @api private Use Datastore.crudInsert which has the same signature
 */
    var self, preparedDoc;
    self = this;
    preparedDoc = self.<span class="docApiCodeKeywordSpan">prepareDocumentForInsertion</span>(newDoc);
    self._insertInCache(preparedDoc);
    setTimeout(function () {
        self.save();
        onError(null, local.nedb.jsonCopy(preparedDoc));
    }, 10);
};
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite._DbTable.prototype.removeFromIndexes" id="element.nedb-lite._DbTable.prototype.removeFromIndexes">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>removeFromIndexes
            <span class="docApiSignatureSpan">(dbRow)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">removeFromIndexes = function (dbRow){__cov_6b9bc1bc5a47f.f[&#x27;202&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1342&#x27;]++;var self=this;__cov_6b9bc1bc5a47f.s[&#x27;1343&#x27;]++;Ob\
ject.keys(this.indexes).forEach(function(ii){__cov_6b9bc1bc5a47f.f[&#x27;203&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1344&#x27;]++;self.indexes[ii].rem\
ove(dbRow);});}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
data.some(function (dbRow) {
    if (local.nedb.queryMatch(dbRow, options.query)) {
        result += 1;
        removedList.push({
            $$deleted: true,
            _id: dbRow._id
        });
        self.<span class="docApiCodeKeywordSpan">removeFromIndexes</span>(dbRow);
        if (options.one) {
            return true;
        }
    }
});
self.save();
options.onNext();
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite._DbTable.prototype.save" id="element.nedb-lite._DbTable.prototype.save">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>save
            <span class="docApiSignatureSpan">()</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">save = function (){__cov_6b9bc1bc5a47f.f[&#x27;199&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1321&#x27;]++;var self;__cov_6b9bc1bc5a47f.s[&#x27;1322&#x27;]++;self=this;__\
cov_6b9bc1bc5a47f.s[&#x27;1323&#x27;]++;if(self.timerSave){__cov_6b9bc1bc5a47f.b[&#x27;386&#x27;][0]++;__cov_6b9bc1bc5a47f.s[&#x27;1324&#x27;]++;return;}else{\
__cov_6b9bc1bc5a47f.b[&#x27;386&#x27;][1]++;}__cov_6b9bc1bc5a47f.s[&#x27;1325&#x27;]++;self.timerSave=setTimeout(function(){__cov_6b9bc1bc5a47f.f[&#x27;2\
00&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1326&#x27;]++;delete self.timerSave;__cov_6b9bc1bc5a47f.s[&#x27;1327&#x27;]++;local.nedb.dbStorageSetItem(self.na\
me,self.export(),local.nedb.onErrorDefault);},2000);__cov_6b9bc1bc5a47f.s[&#x27;1328&#x27;]++;local.nedb.dbStorageSetItem(self.name,self.e\
xport(),local.nedb.onErrorDefault);}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    // but we stick with MongoDB&#x27;s API here
    if (options.expireAfterSeconds !== undefined) {
        self.ttlIndexes[options.fieldName] = options.expireAfterSeconds;
    }
    self.indexes[options.fieldName].insert(self.crudGetAllSync());
    // We may want to force all options to be persisted including defaults,
    // not just the ones passed the index creation function
    self.<span class="docApiCodeKeywordSpan">save</span>();
    onError();
};

local.nedb.dbIndexRemove = function (dbTable, options, onError) {
/*
 * this function will remove the dbIndex from dbTable with the given options
 */
...</pre></li>
        </ul>
        
        
        
        <h2>
            <a href="#element.nedb-lite._DbTable.prototype.updateIndexes" id="element.nedb-lite._DbTable.prototype.updateIndexes">
            function <span class="docApiSignatureSpan">nedb-lite._DbTable.prototype.</span>updateIndexes
            <span class="docApiSignatureSpan">(oldDoc,newDoc)</span>
            </a>
        </h2>
        <ul>
        <li>description and source code<pre class="docApiCodePre">updateIndexes = function (oldDoc,newDoc){__cov_6b9bc1bc5a47f.f[&#x27;204&#x27;]++;__cov_6b9bc1bc5a47f.s[&#x27;1346&#x27;]++;var ii,keys=Object.keys(this.indexes);__\
cov_6b9bc1bc5a47f.s[&#x27;1347&#x27;]++;for(ii=0;ii&lt;keys.length;ii+=1){__cov_6b9bc1bc5a47f.s[&#x27;1348&#x27;]++;this.indexes[keys[ii]].update(oldDo\
c,newDoc);}}</pre></li>
        <li>example usage<pre class="docApiCodePre">...
    }
} catch (errorCaught) {
    return onError(errorCaught);
}

// Change the docs in memory
try {
    self.<span class="docApiCodeKeywordSpan">updateIndexes</span>(modifications);
} catch (errorCaught) {
    return onError(errorCaught);
}

// Update the datafile
var updatedDocs, updatedDocsDC;
updatedDocs = modifications.map(function (element) {
...</pre></li>
        </ul>
        
        
    </div>
    
</div>
